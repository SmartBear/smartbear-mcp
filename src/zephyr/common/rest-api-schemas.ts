/**
 * Generated by orval v8.0.0-rc.0 üç∫
 * Do not edit manually.
 * Zephyr Cloud API
 *
# Introduction

This is the **Zephyr Cloud** API. If you are looking for the Server API, please refer to the [documentation](https://support.smartbear.com/zephyr-scale-server/api-docs/v1/) for more information.

This API uses the OpenAPI specification. If you want to generate clients for different languages, please use the link above to download the API specification and use it with your preferred tools.

For feature requests or general support, please head to our [support site](https://support.smartbear.com/zephyr/message/).

# Authentication
The API authentication is based on JSON Web Token (JWT), which is a key for accessing the API. Authenticating using JWT requires the following steps:
* Generate a key
* Make authenticated requests

## Generate a Key
For accessing the API, you must generate an access key in Jira. To generate an access token, click on your profile picture at the page bottom left, and
choose the option ‚ÄúZephyr API keys". For more information, please check out the [documentation](https://support.smartbear.com/zephyr/docs/en/rest-api/api-access-tokens-management.html).

## Accessing the API
The API is available at the following base URL:
```
https://api.zephyrscale.smartbear.com/v2
```
For example, the final URL for retrieving test cases would be:
```
https://api.zephyrscale.smartbear.com/v2/testcases
```
For EU region, the API can be accessed at the following base URL:
```
https://eu.api.zephyrscale.smartbear.com/v2
```

## Making Authenticated Requests
To authenticate subsequent API requests, you must provide a valid token in an HTTP header, which is the key generated on the previous step:
```
Authorization: Bearer {bearer_token}
```
# Representing Users

Previous API definitions used Atlassian User Keys to identify users. This parameter is deprecated because of privacy
changes. Use Atlassian Account ID instead.


Atlassian Account IDs are globally unique opaque identifiers for identifying a user. Every Atlassian Account has a
ID which is assigned when the account is created and is immutable. Account IDs contain no personally identifiable
information and are only used to retrieve user information ondemand. This API does not return any user information
other than the Account ID (with the exception of the deprecated user keys during the deprecation period).

 * OpenAPI spec version: 2
 */
import * as zod from "zod";

/**
 * Retrieves all test cases. Query parameters can be used to filter the results. If the user who is preforming the API call has access to more than 1000 projects, the `projectKey` query parameter is mandatory.

 * @summary Get test cases
 */
export const listTestCasesQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;

export const listTestCasesQueryMaxResultsDefault = 10;

export const listTestCasesQueryStartAtDefault = 0;
export const listTestCasesQueryStartAtMin = 0;
export const listTestCasesQueryStartAtMax = 1000000;

export const listTestCasesQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(listTestCasesQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  folderId: zod.number().min(1).optional().describe("Folder ID filter"),
  maxResults: zod
    .number()
    .min(1)
    .default(listTestCasesQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listTestCasesQueryStartAtMin)
    .max(listTestCasesQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const listTestCasesResponseStartAtMin = 0;

export const listTestCasesResponseTotalMin = 0;

export const listTestCasesResponseValuesItemKeyRegExp = /.+-T[0-9]+/;
export const listTestCasesResponseValuesItemNameRegExp = /^(?!\\s*$).+/;

export const listTestCasesResponseValuesItemEstimatedTimeMin = 0;

export const listTestCasesResponseValuesItemOwnerAccountIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const listTestCasesResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listTestCasesResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listTestCasesResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod.object({
            id: zod.number().min(1),
            key: zod
              .string()
              .regex(listTestCasesResponseValuesItemKeyRegExp)
              .describe("The test case key"),
            name: zod.string().regex(listTestCasesResponseValuesItemNameRegExp),
            project: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .describe("ID and link relative to Zephyr project."),
            createdOn: zod
              .string()
              .datetime({})
              .optional()
              .describe(
                "Data and time test case was created. Format: yyyy-MM-dd'T'HH:mm:ss'Z'. This field is read-only, cannot be updated.\n",
              ),
            objective: zod
              .string()
              .nullish()
              .describe("A description of the objective."),
            precondition: zod
              .string()
              .nullish()
              .describe("Any conditions that need to be met."),
            estimatedTime: zod
              .number()
              .min(listTestCasesResponseValuesItemEstimatedTimeMin)
              .nullish()
              .describe("Estimated duration in milliseconds."),
            labels: zod
              .array(zod.string())
              .optional()
              .describe("Array of labels associated to this entity."),
            component: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish(),
            priority: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              ),
            status: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              ),
            folder: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish(),
            owner: zod
              .object({
                accountId: zod
                  .string()
                  .regex(listTestCasesResponseValuesItemOwnerAccountIdRegExp)
                  .nullable()
                  .describe("Atlassian Account ID of the Jira user."),
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Jira REST API endpoint to get the full representation of the Jira user.",
                  ),
              })
              .nullish(),
            testScript: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .optional(),
            customFields: zod
              .record(zod.string(), zod.unknown())
              .optional()
              .describe(
                "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
              ),
            links: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  issues: zod
                    .array(
                      zod
                        .object({
                          issueId: zod
                            .number()
                            .min(1)
                            .describe("The Jira issue ID"),
                        })
                        .and(
                          zod.object({
                            self: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                              ),
                            id: zod
                              .number()
                              .min(1)
                              .optional()
                              .describe(
                                "The ID that represents the link between the entity and the Jira issue.",
                              ),
                            target: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Jira Cloud REST API endpoint to get the full representation of the issue",
                              ),
                            type: zod
                              .enum(["COVERAGE", "BLOCKS", "RELATED"])
                              .optional()
                              .describe("The link type"),
                          }),
                        ),
                    )
                    .optional()
                    .describe("A list of Jira issues linked to this entity"),
                  webLinks: zod
                    .array(
                      zod
                        .object({
                          description: zod
                            .string()
                            .optional()
                            .describe("The web link description"),
                          url: zod.string().url().describe("The web link URL"),
                        })
                        .and(
                          zod.object({
                            self: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                              ),
                            id: zod.number().min(1).optional(),
                            type: zod
                              .enum(["COVERAGE", "BLOCKS", "RELATED"])
                              .optional()
                              .describe("The link type"),
                          }),
                        ),
                    )
                    .optional()
                    .describe("A list of web links for this entity"),
                }),
              )
              .optional()
              .describe("This property is ignored on updates."),
          }),
        )
        .optional(),
    }),
  );

/**
 * Creates a test case. Fields `priorityName` and `statusName` will be set to default values if not informed. Default values are usually ‚ÄúNormal‚Äù for `priorityName` and ‚ÄúDraft‚Äù for `statusName`. All required test case custom fields should be present in the request.

 * @summary Create test case
 */
export const createTestCaseBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createTestCaseBodyNameRegExp = /^(?!\\s*$).+/;
export const createTestCaseBodyEstimatedTimeMin = 0;

export const createTestCaseBodyComponentIdMin = 0;

export const createTestCaseBodyPriorityNameMax = 255;

export const createTestCaseBodyStatusNameMax = 255;

export const createTestCaseBodyOwnerIdRegExp = /^[-:a-zA-Z0-9]{1,128}$/;

export const createTestCaseBody = zod.object({
  projectKey: zod
    .string()
    .regex(createTestCaseBodyProjectKeyRegExp)
    .describe("Jira project key."),
  name: zod.string().regex(createTestCaseBodyNameRegExp),
  objective: zod.string().nullish().describe("A description of the objective."),
  precondition: zod
    .string()
    .nullish()
    .describe("Any conditions that need to be met."),
  estimatedTime: zod
    .number()
    .min(createTestCaseBodyEstimatedTimeMin)
    .optional()
    .describe("Estimated duration in milliseconds."),
  componentId: zod
    .number()
    .min(createTestCaseBodyComponentIdMin)
    .optional()
    .describe("ID of a component from Jira."),
  priorityName: zod
    .string()
    .min(1)
    .max(createTestCaseBodyPriorityNameMax)
    .optional()
    .describe("The priority name."),
  statusName: zod
    .string()
    .min(1)
    .max(createTestCaseBodyStatusNameMax)
    .optional()
    .describe("The status name."),
  folderId: zod
    .number()
    .min(1)
    .optional()
    .describe("ID of a folder to place the entity within."),
  ownerId: zod
    .string()
    .regex(createTestCaseBodyOwnerIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  labels: zod
    .array(zod.string())
    .optional()
    .describe("Array of labels associated to this entity."),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
});

/**
 * Retrieves all test cases. Query parameters can be used to filter the results.

Use this endpoint for retrieving large volumes of test cases.

Results are split in different pages, of size equal to the `limit` query parameter.
To fetch the next page, use the `next` URL returned in the response.
It should have the same parameters as the original request, with the updated value for `startAtId` parameter.
Alternatively, the same request can be made with the `startAtId` parameter set to the `nextStartId` value
returned in the response.

 * @summary Get test cases (NextGen)
 */
export const listTestCasesCursorPaginatedQueryProjectKeyRegExp =
  /([A-Z][A-Z_0-9]+)/;

export const listTestCasesCursorPaginatedQueryLimitDefault = 10;
export const listTestCasesCursorPaginatedQueryLimitMax = 1000;

export const listTestCasesCursorPaginatedQueryStartAtIdDefault = 0;
export const listTestCasesCursorPaginatedQueryStartAtIdMin = 0;

export const listTestCasesCursorPaginatedQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(listTestCasesCursorPaginatedQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  folderId: zod.number().min(1).optional().describe("Folder ID filter"),
  limit: zod
    .number()
    .min(1)
    .max(listTestCasesCursorPaginatedQueryLimitMax)
    .default(listTestCasesCursorPaginatedQueryLimitDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the limit value in the response to confirm how many results were actually returned.\n",
    ),
  startAtId: zod
    .number()
    .min(listTestCasesCursorPaginatedQueryStartAtIdMin)
    .optional()
    .describe("Zero-indexed starting position for ID-based pagination."),
});

export const listTestCasesCursorPaginatedResponseNextStartAtIdMin = 0;

export const listTestCasesCursorPaginatedResponseLimitMin = 0;

export const listTestCasesCursorPaginatedResponseValuesItemKeyRegExp =
  /.+-T[0-9]+/;
export const listTestCasesCursorPaginatedResponseValuesItemNameRegExp =
  /^(?!\\s*$).+/;

export const listTestCasesCursorPaginatedResponseValuesItemEstimatedTimeMin = 0;

export const listTestCasesCursorPaginatedResponseValuesItemOwnerAccountIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const listTestCasesCursorPaginatedResponse = zod
  .object({
    next: zod.string().url().nullish(),
    nextStartAtId: zod
      .number()
      .min(listTestCasesCursorPaginatedResponseNextStartAtIdMin)
      .nullable(),
    limit: zod.number().min(listTestCasesCursorPaginatedResponseLimitMin),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod.object({
            id: zod.number().min(1),
            key: zod
              .string()
              .regex(listTestCasesCursorPaginatedResponseValuesItemKeyRegExp)
              .describe("The test case key"),
            name: zod
              .string()
              .regex(listTestCasesCursorPaginatedResponseValuesItemNameRegExp),
            project: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .describe("ID and link relative to Zephyr project."),
            createdOn: zod
              .string()
              .datetime({})
              .optional()
              .describe(
                "Data and time test case was created. Format: yyyy-MM-dd'T'HH:mm:ss'Z'. This field is read-only, cannot be updated.\n",
              ),
            objective: zod
              .string()
              .nullish()
              .describe("A description of the objective."),
            precondition: zod
              .string()
              .nullish()
              .describe("Any conditions that need to be met."),
            estimatedTime: zod
              .number()
              .min(
                listTestCasesCursorPaginatedResponseValuesItemEstimatedTimeMin,
              )
              .nullish()
              .describe("Estimated duration in milliseconds."),
            labels: zod
              .array(zod.string())
              .optional()
              .describe("Array of labels associated to this entity."),
            component: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish(),
            priority: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              ),
            status: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              ),
            folder: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish(),
            owner: zod
              .object({
                accountId: zod
                  .string()
                  .regex(
                    listTestCasesCursorPaginatedResponseValuesItemOwnerAccountIdRegExp,
                  )
                  .nullable()
                  .describe("Atlassian Account ID of the Jira user."),
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Jira REST API endpoint to get the full representation of the Jira user.",
                  ),
              })
              .nullish(),
            testScript: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .optional(),
            customFields: zod
              .record(zod.string(), zod.unknown())
              .optional()
              .describe(
                "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
              ),
            links: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  issues: zod
                    .array(
                      zod
                        .object({
                          issueId: zod
                            .number()
                            .min(1)
                            .describe("The Jira issue ID"),
                        })
                        .and(
                          zod.object({
                            self: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                              ),
                            id: zod
                              .number()
                              .min(1)
                              .optional()
                              .describe(
                                "The ID that represents the link between the entity and the Jira issue.",
                              ),
                            target: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Jira Cloud REST API endpoint to get the full representation of the issue",
                              ),
                            type: zod
                              .enum(["COVERAGE", "BLOCKS", "RELATED"])
                              .optional()
                              .describe("The link type"),
                          }),
                        ),
                    )
                    .optional()
                    .describe("A list of Jira issues linked to this entity"),
                  webLinks: zod
                    .array(
                      zod
                        .object({
                          description: zod
                            .string()
                            .optional()
                            .describe("The web link description"),
                          url: zod.string().url().describe("The web link URL"),
                        })
                        .and(
                          zod.object({
                            self: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                              ),
                            id: zod.number().min(1).optional(),
                            type: zod
                              .enum(["COVERAGE", "BLOCKS", "RELATED"])
                              .optional()
                              .describe("The link type"),
                          }),
                        ),
                    )
                    .optional()
                    .describe("A list of web links for this entity"),
                }),
              )
              .optional()
              .describe("This property is ignored on updates."),
          }),
        )
        .optional(),
    }),
  );

/**
 * Returns a test case for the given key.
 * @summary Get test case
 */
export const getTestCasePathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const getTestCaseParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(getTestCasePathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const getTestCaseResponseKeyRegExp = /.+-T[0-9]+/;
export const getTestCaseResponseNameRegExp = /^(?!\\s*$).+/;

export const getTestCaseResponseEstimatedTimeMin = 0;

export const getTestCaseResponseOwnerAccountIdRegExp = /^[-:a-zA-Z0-9]{1,128}$/;

export const getTestCaseResponse = zod.object({
  id: zod.number().min(1),
  key: zod
    .string()
    .regex(getTestCaseResponseKeyRegExp)
    .describe("The test case key"),
  name: zod.string().regex(getTestCaseResponseNameRegExp),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  createdOn: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Data and time test case was created. Format: yyyy-MM-dd'T'HH:mm:ss'Z'. This field is read-only, cannot be updated.\n",
    ),
  objective: zod.string().nullish().describe("A description of the objective."),
  precondition: zod
    .string()
    .nullish()
    .describe("Any conditions that need to be met."),
  estimatedTime: zod
    .number()
    .min(getTestCaseResponseEstimatedTimeMin)
    .nullish()
    .describe("Estimated duration in milliseconds."),
  labels: zod
    .array(zod.string())
    .optional()
    .describe("Array of labels associated to this entity."),
  component: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  priority: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  status: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  folder: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  owner: zod
    .object({
      accountId: zod
        .string()
        .regex(getTestCaseResponseOwnerAccountIdRegExp)
        .nullable()
        .describe("Atlassian Account ID of the Jira user."),
      self: zod
        .string()
        .url()
        .optional()
        .describe(
          "The Jira REST API endpoint to get the full representation of the Jira user.",
        ),
    })
    .nullish(),
  testScript: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .optional(),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
  links: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .and(
      zod.object({
        issues: zod
          .array(
            zod
              .object({
                issueId: zod.number().min(1).describe("The Jira issue ID"),
              })
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                    ),
                  id: zod
                    .number()
                    .min(1)
                    .optional()
                    .describe(
                      "The ID that represents the link between the entity and the Jira issue.",
                    ),
                  target: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Jira Cloud REST API endpoint to get the full representation of the issue",
                    ),
                  type: zod
                    .enum(["COVERAGE", "BLOCKS", "RELATED"])
                    .optional()
                    .describe("The link type"),
                }),
              ),
          )
          .optional()
          .describe("A list of Jira issues linked to this entity"),
        webLinks: zod
          .array(
            zod
              .object({
                description: zod
                  .string()
                  .optional()
                  .describe("The web link description"),
                url: zod.string().url().describe("The web link URL"),
              })
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                    ),
                  id: zod.number().min(1).optional(),
                  type: zod
                    .enum(["COVERAGE", "BLOCKS", "RELATED"])
                    .optional()
                    .describe("The link type"),
                }),
              ),
          )
          .optional()
          .describe("A list of web links for this entity"),
      }),
    )
    .optional()
    .describe("This property is ignored on updates."),
});

/**
 * Updates an existing test case.  Please take into account that for each non-specified field the value will be cleared. If the project has test case custom fields, all custom fields should be present in the request. To leave any of them blank, please set them null if they are not required custom fields.

 * @summary Update test case
 */
export const updateTestCasePathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const updateTestCaseParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(updateTestCasePathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const updateTestCaseBodyKeyRegExp = /.+-T[0-9]+/;
export const updateTestCaseBodyNameRegExp = /^(?!\\s*$).+/;

export const updateTestCaseBodyEstimatedTimeMin = 0;

export const updateTestCaseBodyOwnerAccountIdRegExp = /^[-:a-zA-Z0-9]{1,128}$/;

export const updateTestCaseBody = zod.object({
  id: zod.number().min(1),
  key: zod
    .string()
    .regex(updateTestCaseBodyKeyRegExp)
    .describe("The test case key"),
  name: zod.string().regex(updateTestCaseBodyNameRegExp),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  createdOn: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Data and time test case was created. Format: yyyy-MM-dd'T'HH:mm:ss'Z'. This field is read-only, cannot be updated.\n",
    ),
  objective: zod.string().nullish().describe("A description of the objective."),
  precondition: zod
    .string()
    .nullish()
    .describe("Any conditions that need to be met."),
  estimatedTime: zod
    .number()
    .min(updateTestCaseBodyEstimatedTimeMin)
    .nullish()
    .describe("Estimated duration in milliseconds."),
  labels: zod
    .array(zod.string())
    .optional()
    .describe("Array of labels associated to this entity."),
  component: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  priority: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  status: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  folder: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  owner: zod
    .object({
      accountId: zod
        .string()
        .regex(updateTestCaseBodyOwnerAccountIdRegExp)
        .nullable()
        .describe("Atlassian Account ID of the Jira user."),
      self: zod
        .string()
        .url()
        .optional()
        .describe(
          "The Jira REST API endpoint to get the full representation of the Jira user.",
        ),
    })
    .nullish(),
  testScript: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .optional(),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
  links: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .and(
      zod.object({
        issues: zod
          .array(
            zod
              .object({
                issueId: zod.number().min(1).describe("The Jira issue ID"),
              })
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                    ),
                  id: zod
                    .number()
                    .min(1)
                    .optional()
                    .describe(
                      "The ID that represents the link between the entity and the Jira issue.",
                    ),
                  target: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Jira Cloud REST API endpoint to get the full representation of the issue",
                    ),
                  type: zod
                    .enum(["COVERAGE", "BLOCKS", "RELATED"])
                    .optional()
                    .describe("The link type"),
                }),
              ),
          )
          .optional()
          .describe("A list of Jira issues linked to this entity"),
        webLinks: zod
          .array(
            zod
              .object({
                description: zod
                  .string()
                  .optional()
                  .describe("The web link description"),
                url: zod.string().url().describe("The web link URL"),
              })
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                    ),
                  id: zod.number().min(1).optional(),
                  type: zod
                    .enum(["COVERAGE", "BLOCKS", "RELATED"])
                    .optional()
                    .describe("The link type"),
                }),
              ),
          )
          .optional()
          .describe("A list of web links for this entity"),
      }),
    )
    .optional()
    .describe("This property is ignored on updates."),
});

/**
 * Returns links for a test case with specified key.
 * @summary Get links
 */
export const getTestCaseLinksPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const getTestCaseLinksParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(getTestCaseLinksPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const getTestCaseLinksResponse = zod
  .object({
    self: zod
      .string()
      .url()
      .optional()
      .describe("The REST API endpoint to get more resource details."),
  })
  .and(
    zod.object({
      issues: zod
        .array(
          zod
            .object({
              issueId: zod.number().min(1).describe("The Jira issue ID"),
            })
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                  ),
                id: zod
                  .number()
                  .min(1)
                  .optional()
                  .describe(
                    "The ID that represents the link between the entity and the Jira issue.",
                  ),
                target: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Jira Cloud REST API endpoint to get the full representation of the issue",
                  ),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
              }),
            ),
        )
        .optional()
        .describe("A list of Jira issues linked to this entity"),
      webLinks: zod
        .array(
          zod
            .object({
              description: zod
                .string()
                .optional()
                .describe("The web link description"),
              url: zod.string().url().describe("The web link URL"),
            })
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                  ),
                id: zod.number().min(1).optional(),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
              }),
            ),
        )
        .optional()
        .describe("A list of web links for this entity"),
    }),
  )
  .describe("This property is ignored on updates.");

/**
 * Creates a link between a test case and a Jira issue.
 * @summary Create issue link
 */
export const createTestCaseIssueLinkPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const createTestCaseIssueLinkParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(createTestCaseIssueLinkPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const createTestCaseIssueLinkBody = zod.object({
  issueId: zod.number().min(1).describe("The Jira issue ID"),
});

/**
 * Creates a link between a test case and a generic URL.
 * @summary Create web link
 */
export const createTestCaseWebLinkPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const createTestCaseWebLinkParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(createTestCaseWebLinkPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const createTestCaseWebLinkBody = zod.object({
  description: zod.string().optional().describe("The web link description"),
  url: zod.string().url().describe("The web link URL"),
});

/**
 * Returns all test case versions for a test case with specified key. Response is ordered by most recent first.
 * @summary Get versions
 */
export const listTestCaseVersionsPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const listTestCaseVersionsParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(listTestCaseVersionsPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const listTestCaseVersionsQueryMaxResultsDefault = 10;

export const listTestCaseVersionsQueryStartAtDefault = 0;
export const listTestCaseVersionsQueryStartAtMin = 0;
export const listTestCaseVersionsQueryStartAtMax = 1000000;

export const listTestCaseVersionsQueryParams = zod.object({
  maxResults: zod
    .number()
    .min(1)
    .default(listTestCaseVersionsQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listTestCaseVersionsQueryStartAtMin)
    .max(listTestCaseVersionsQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const listTestCaseVersionsResponseStartAtMin = 0;

export const listTestCaseVersionsResponseTotalMin = 0;

export const listTestCaseVersionsResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listTestCaseVersionsResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listTestCaseVersionsResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod
            .object({
              self: zod
                .string()
                .url()
                .optional()
                .describe(
                  "The REST API endpoint to get more resource details.",
                ),
            })
            .and(
              zod.object({
                id: zod.number().min(1).optional(),
              }),
            ),
        )
        .optional()
        .describe("A list of versions for a test case"),
    }),
  );

/**
 * Retrieves a specific version of a test case.
 * @summary Get version
 */
export const getTestCaseVersionPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const getTestCaseVersionParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(getTestCaseVersionPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
  version: zod.number().describe("Version of the test case to retrieve."),
});

export const getTestCaseVersionResponseKeyRegExp = /.+-T[0-9]+/;
export const getTestCaseVersionResponseNameRegExp = /^(?!\\s*$).+/;

export const getTestCaseVersionResponseEstimatedTimeMin = 0;

export const getTestCaseVersionResponseOwnerAccountIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const getTestCaseVersionResponse = zod.object({
  id: zod.number().min(1),
  key: zod
    .string()
    .regex(getTestCaseVersionResponseKeyRegExp)
    .describe("The test case key"),
  name: zod.string().regex(getTestCaseVersionResponseNameRegExp),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  createdOn: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Data and time test case was created. Format: yyyy-MM-dd'T'HH:mm:ss'Z'. This field is read-only, cannot be updated.\n",
    ),
  objective: zod.string().nullish().describe("A description of the objective."),
  precondition: zod
    .string()
    .nullish()
    .describe("Any conditions that need to be met."),
  estimatedTime: zod
    .number()
    .min(getTestCaseVersionResponseEstimatedTimeMin)
    .nullish()
    .describe("Estimated duration in milliseconds."),
  labels: zod
    .array(zod.string())
    .optional()
    .describe("Array of labels associated to this entity."),
  component: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  priority: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  status: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  folder: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  owner: zod
    .object({
      accountId: zod
        .string()
        .regex(getTestCaseVersionResponseOwnerAccountIdRegExp)
        .nullable()
        .describe("Atlassian Account ID of the Jira user."),
      self: zod
        .string()
        .url()
        .optional()
        .describe(
          "The Jira REST API endpoint to get the full representation of the Jira user.",
        ),
    })
    .nullish(),
  testScript: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .optional(),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
  links: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .and(
      zod.object({
        issues: zod
          .array(
            zod
              .object({
                issueId: zod.number().min(1).describe("The Jira issue ID"),
              })
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                    ),
                  id: zod
                    .number()
                    .min(1)
                    .optional()
                    .describe(
                      "The ID that represents the link between the entity and the Jira issue.",
                    ),
                  target: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Jira Cloud REST API endpoint to get the full representation of the issue",
                    ),
                  type: zod
                    .enum(["COVERAGE", "BLOCKS", "RELATED"])
                    .optional()
                    .describe("The link type"),
                }),
              ),
          )
          .optional()
          .describe("A list of Jira issues linked to this entity"),
        webLinks: zod
          .array(
            zod
              .object({
                description: zod
                  .string()
                  .optional()
                  .describe("The web link description"),
                url: zod.string().url().describe("The web link URL"),
              })
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                    ),
                  id: zod.number().min(1).optional(),
                  type: zod
                    .enum(["COVERAGE", "BLOCKS", "RELATED"])
                    .optional()
                    .describe("The link type"),
                }),
              ),
          )
          .optional()
          .describe("A list of web links for this entity"),
      }),
    )
    .optional()
    .describe("This property is ignored on updates."),
});

/**
 * Returns the test script for the given test case
 * @summary Get test script
 */
export const getTestCaseTestScriptPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const getTestCaseTestScriptParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(getTestCaseTestScriptPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const getTestCaseTestScriptResponse = zod
  .object({
    type: zod
      .enum(["plain", "bdd"])
      .describe(
        "Test scripts can be in plain text or bdd format. BDD type can support remote execution on a build system via API plugin. To create a step-by-step test script, you should first create a plain text test script then use the POST /testcases/{testCaseKey}/teststeps endpoint.",
      ),
    text: zod.string().min(1),
  })
  .describe("Request body for creating test scripts")
  .and(
    zod.object({
      id: zod.number().min(1).optional(),
    }),
  )
  .describe("Response body when retrieving test scripts");

/**
 * Creates or updates the test script for a test case. If the test case currently has a sequence of test steps assigned to it, these will be implicitly removed.
 * @summary Create test script
 */
export const createTestCaseTestScriptPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const createTestCaseTestScriptParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(createTestCaseTestScriptPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const createTestCaseTestScriptBody = zod
  .object({
    type: zod
      .enum(["plain", "bdd"])
      .describe(
        "Test scripts can be in plain text or bdd format. BDD type can support remote execution on a build system via API plugin. To create a step-by-step test script, you should first create a plain text test script then use the POST /testcases/{testCaseKey}/teststeps endpoint.",
      ),
    text: zod.string().min(1),
  })
  .describe("Request body for creating test scripts");

/**
 * Returns the test steps for the given test case. Provides a paged response, with 100 items per page.
 * @summary Get test steps
 */
export const getTestCaseTestStepsPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const getTestCaseTestStepsParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(getTestCaseTestStepsPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const getTestCaseTestStepsQueryMaxResultsDefault = 10;

export const getTestCaseTestStepsQueryStartAtDefault = 0;
export const getTestCaseTestStepsQueryStartAtMin = 0;
export const getTestCaseTestStepsQueryStartAtMax = 1000000;

export const getTestCaseTestStepsQueryParams = zod.object({
  maxResults: zod
    .number()
    .min(1)
    .default(getTestCaseTestStepsQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(getTestCaseTestStepsQueryStartAtMin)
    .max(getTestCaseTestStepsQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const getTestCaseTestStepsResponseStartAtMin = 0;

export const getTestCaseTestStepsResponseTotalMin = 0;

export const getTestCaseTestStepsResponseValuesItemTestCaseTestCaseKeyRegExp =
  /(.+-T[0-9]+)/;

export const getTestCaseTestStepsResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(getTestCaseTestStepsResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(getTestCaseTestStepsResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod
            .object({
              inline: zod
                .object({
                  description: zod
                    .string()
                    .optional()
                    .describe("The instruction to be followed"),
                  testData: zod
                    .string()
                    .optional()
                    .describe(
                      "Any test data required to perform the instruction (optional). The fields values provided can be interpolated into the description.",
                    ),
                  expectedResult: zod
                    .string()
                    .optional()
                    .describe(
                      "The expected outcome of executing the instruction",
                    ),
                  customFields: zod
                    .record(zod.string(), zod.unknown())
                    .optional()
                    .describe(
                      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
                    ),
                  reflectRef: zod
                    .string()
                    .optional()
                    .describe("The AI reference. Zephyr only feature"),
                })
                .optional(),
              testCase: zod
                .object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                })
                .and(
                  zod.object({
                    testCaseKey: zod
                      .string()
                      .regex(
                        getTestCaseTestStepsResponseValuesItemTestCaseTestCaseKeyRegExp,
                      )
                      .optional()
                      .describe(
                        "The key of the other test case that the test step should delegate execution to. This cannot be the parent test case.",
                      ),
                    parameters: zod
                      .array(
                        zod.object({
                          name: zod
                            .string()
                            .optional()
                            .describe("Name of the parameter"),
                          type: zod
                            .enum(["MANUAL_INPUT", "DEFAULT_VALUE"])
                            .optional()
                            .describe(
                              "Type of the parameter. It is manual inputs for parameters or the default values.",
                            ),
                          value: zod
                            .string()
                            .optional()
                            .describe("Value of the parameter"),
                        }),
                      )
                      .optional()
                      .describe(
                        "The list of parameters of the call to test step",
                      ),
                  }),
                )
                .optional(),
            })
            .describe(
              "An instruction to be followed as part of a step-by-step test script. The test step can have either an inline definition, or delegate execution to another test case. One of these options must be specified.",
            ),
        )
        .optional()
        .describe("The list of test steps"),
    }),
  )
  .describe("Response body when retrieving test steps");

/**
 * Assigns a series of test steps to a test case, appending them to any existing sequence of test steps. A maximum of 100 steps can be posted per request. Consumers should not attempt to parallelize this operation, as the order of the steps is defined by the input order. If this endpoint is called on a test case that already has a plain text or BDD test script, that test script will implicitly be removed. All required step custom fields should be present in the request.

 * @summary Post test steps
 */
export const createTestCaseTestStepsPathTestCaseKeyRegExp = /(.+-T[0-9]+)/;

export const createTestCaseTestStepsParams = zod.object({
  testCaseKey: zod
    .string()
    .regex(createTestCaseTestStepsPathTestCaseKeyRegExp)
    .describe(
      "The key of the test case. Test case keys are of the format [A-Z]+-T[0-9]+",
    ),
});

export const createTestCaseTestStepsBodyItemsItemTestCaseTestCaseKeyRegExp =
  /(.+-T[0-9]+)/;

export const createTestCaseTestStepsBody = zod
  .object({
    mode: zod
      .string()
      .describe(
        'Valid values: `"APPEND"`, `"OVERWRITE"`. <br> `OVERWRITE` deletes and recreates the test steps and associated custom field values using the provided input. Attachments for existing steps are kept, but those for missing steps are deleted permanently <br> `APPEND` only adds extra steps to your test steps.\n',
      ),
    items: zod
      .array(
        zod
          .object({
            inline: zod
              .object({
                description: zod
                  .string()
                  .optional()
                  .describe("The instruction to be followed"),
                testData: zod
                  .string()
                  .optional()
                  .describe(
                    "Any test data required to perform the instruction (optional). The fields values provided can be interpolated into the description.",
                  ),
                expectedResult: zod
                  .string()
                  .optional()
                  .describe(
                    "The expected outcome of executing the instruction",
                  ),
                customFields: zod
                  .record(zod.string(), zod.unknown())
                  .optional()
                  .describe(
                    "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
                  ),
                reflectRef: zod
                  .string()
                  .optional()
                  .describe("The AI reference. Zephyr only feature"),
              })
              .optional(),
            testCase: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  testCaseKey: zod
                    .string()
                    .regex(
                      createTestCaseTestStepsBodyItemsItemTestCaseTestCaseKeyRegExp,
                    )
                    .optional()
                    .describe(
                      "The key of the other test case that the test step should delegate execution to. This cannot be the parent test case.",
                    ),
                  parameters: zod
                    .array(
                      zod.object({
                        name: zod
                          .string()
                          .optional()
                          .describe("Name of the parameter"),
                        type: zod
                          .enum(["MANUAL_INPUT", "DEFAULT_VALUE"])
                          .optional()
                          .describe(
                            "Type of the parameter. It is manual inputs for parameters or the default values.",
                          ),
                        value: zod
                          .string()
                          .optional()
                          .describe("Value of the parameter"),
                      }),
                    )
                    .optional()
                    .describe(
                      "The list of parameters of the call to test step",
                    ),
                }),
              )
              .optional(),
          })
          .describe(
            "An instruction to be followed as part of a step-by-step test script. The test step can have either an inline definition, or delegate execution to another test case. One of these options must be specified.",
          ),
      )
      .describe(
        "The list of test steps. Each step should be an object containing `inline` or `testCase`. **They should only include one of these fields at a time**.",
      ),
  })
  .describe(
    "Request body for creating test steps. A maximum of 100 test steps can be added in one request. To add more than 100 steps, you can submit multiple requests. The mode property allows you to specify whether you want to delete the current test steps and create a new list, or append more items to the end of the current list.",
  );

/**
 * Returns all test cycles. Query parameters can be used to filter by project and folder.
 * @summary Get test cycles
 */
export const listTestCyclesQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;

export const listTestCyclesQueryMaxResultsDefault = 10;

export const listTestCyclesQueryStartAtDefault = 0;
export const listTestCyclesQueryStartAtMin = 0;
export const listTestCyclesQueryStartAtMax = 1000000;

export const listTestCyclesQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(listTestCyclesQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  folderId: zod.number().min(1).optional().describe("Folder ID filter"),
  jiraProjectVersionId: zod
    .number()
    .min(1)
    .optional()
    .describe(
      "Jira Project Version ID. Relates to 'Version' or 'Releases' in Jira projects.",
    ),
  maxResults: zod
    .number()
    .min(1)
    .default(listTestCyclesQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listTestCyclesQueryStartAtMin)
    .max(listTestCyclesQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const listTestCyclesResponseStartAtMin = 0;

export const listTestCyclesResponseTotalMin = 0;

export const listTestCyclesResponseValuesItemKeyRegExp =
  /([A-Z][A-Z_0-9]+-R[0-9]+)/;
export const listTestCyclesResponseValuesItemNameRegExp = /^(?!\s*$).+/;

export const listTestCyclesResponseValuesItemOwnerAccountIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const listTestCyclesResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listTestCyclesResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listTestCyclesResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod
            .object({
              id: zod.number().min(1),
              key: zod
                .string()
                .regex(listTestCyclesResponseValuesItemKeyRegExp)
                .describe("Unique key of the test cycle"),
              name: zod
                .string()
                .regex(listTestCyclesResponseValuesItemNameRegExp)
                .describe("Name of the Test Cycle"),
              project: zod
                .object({
                  id: zod.number().min(1),
                })
                .describe("The ID of the resource")
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The REST API endpoint to get more resource details.",
                      ),
                  }),
                )
                .describe("ID and link relative to Zephyr project."),
              jiraProjectVersion: zod
                .object({
                  id: zod.number().min(1),
                })
                .describe("The ID of the resource")
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The REST API endpoint to get more resource details.",
                      ),
                  }),
                )
                .nullish()
                .describe(
                  "ID and Link to fetch information about Jira Project version. Relates to 'Version' or 'Releases' in Jira projects.",
                ),
              status: zod
                .object({
                  id: zod.number().min(1),
                })
                .describe("The ID of the resource")
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The REST API endpoint to get more resource details.",
                      ),
                  }),
                ),
              folder: zod
                .object({
                  id: zod.number().min(1),
                })
                .describe("The ID of the resource")
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The REST API endpoint to get more resource details.",
                      ),
                  }),
                )
                .nullish(),
              description: zod
                .string()
                .nullish()
                .describe("Description outlining the scope."),
              plannedStartDate: zod
                .string()
                .datetime({})
                .nullish()
                .describe(
                  "Planned start date of the test cycle. This field cannot be blank. Setting it as null or excluding it from the request will leave the field values unchanged. ISO 8601 Format (i.e., yyyy-MM-dd'T'HH:mm:ss'Z')",
                ),
              plannedEndDate: zod
                .string()
                .datetime({})
                .nullish()
                .describe(
                  "The planned end date of the test cycle. This field cannot be blank. Setting it as null or excluding it from the request will leave the field values unchanged. ISO 8601 Format (i.e., yyyy-MM-dd'T'HH:mm:ss'Z')",
                ),
              owner: zod
                .object({
                  accountId: zod
                    .string()
                    .regex(listTestCyclesResponseValuesItemOwnerAccountIdRegExp)
                    .nullable()
                    .describe("Atlassian Account ID of the Jira user."),
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Jira REST API endpoint to get the full representation of the Jira user.",
                    ),
                })
                .nullish(),
              customFields: zod
                .record(zod.string(), zod.unknown())
                .optional()
                .describe(
                  "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
                ),
              links: zod
                .object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                })
                .and(
                  zod.object({
                    issues: zod
                      .array(
                        zod
                          .object({
                            issueId: zod
                              .number()
                              .min(1)
                              .describe("The Jira issue ID"),
                          })
                          .and(
                            zod.object({
                              self: zod
                                .string()
                                .url()
                                .optional()
                                .describe(
                                  "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                                ),
                              id: zod
                                .number()
                                .min(1)
                                .optional()
                                .describe(
                                  "The ID that represents the link between the entity and the Jira issue.",
                                ),
                              target: zod
                                .string()
                                .url()
                                .optional()
                                .describe(
                                  "The Jira Cloud REST API endpoint to get the full representation of the issue",
                                ),
                              type: zod
                                .enum(["COVERAGE", "BLOCKS", "RELATED"])
                                .optional()
                                .describe("The link type"),
                            }),
                          ),
                      )
                      .optional()
                      .describe("A list of Jira issues linked to this entity"),
                    webLinks: zod
                      .array(
                        zod
                          .object({
                            description: zod
                              .string()
                              .optional()
                              .describe("The web link description"),
                            url: zod
                              .string()
                              .url()
                              .describe("The web link URL"),
                          })
                          .and(
                            zod.object({
                              self: zod
                                .string()
                                .url()
                                .optional()
                                .describe(
                                  "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                                ),
                              id: zod.number().min(1).optional(),
                              type: zod
                                .enum(["COVERAGE", "BLOCKS", "RELATED"])
                                .optional()
                                .describe("The link type"),
                            }),
                          ),
                      )
                      .optional()
                      .describe("A list of web links for this entity"),
                    testPlans: zod
                      .array(
                        zod.object({
                          id: zod
                            .number()
                            .min(1)
                            .optional()
                            .describe(
                              "The ID that represents the link between the Test Cycle and the Test Plan.",
                            ),
                          self: zod
                            .string()
                            .url()
                            .optional()
                            .describe(
                              "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                            ),
                          testPlanId: zod
                            .number()
                            .optional()
                            .describe("The ID of the test plan"),
                          type: zod
                            .enum(["COVERAGE", "BLOCKS", "RELATED"])
                            .optional()
                            .describe("The link type"),
                          target: zod
                            .string()
                            .url()
                            .optional()
                            .describe(
                              "The Zephyr REST API endpoint to get the full representation of the test plan",
                            ),
                        }),
                      )
                      .optional()
                      .describe("A list of test plans linked to a test cycle"),
                  }),
                )
                .optional()
                .describe(
                  "Represents all links that a Test Cycle has. This property is ignored on update operations.",
                ),
            })
            .describe("Details of a test cycle"),
        )
        .optional(),
    }),
  );

/**
 * Creates a Test Cycle. All required test cycle custom fields should be present in the request.
 * @summary Create a Test Cycle
 */
export const createTestCycleBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createTestCycleBodyNameRegExp = /^(?!\\s*$).+/;

export const createTestCycleBodyStatusNameMax = 255;

export const createTestCycleBodyOwnerIdRegExp = /^[-:a-zA-Z0-9]{1,128}$/;

export const createTestCycleBody = zod.object({
  projectKey: zod
    .string()
    .regex(createTestCycleBodyProjectKeyRegExp)
    .describe("Jira project key."),
  name: zod.string().regex(createTestCycleBodyNameRegExp),
  description: zod
    .string()
    .nullish()
    .describe("Description outlining the scope."),
  plannedStartDate: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Planned start date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  plannedEndDate: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "The planned end date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  jiraProjectVersion: zod
    .number()
    .min(1)
    .optional()
    .describe(
      "Jira Project Version ID. Relates to 'Version' or 'Releases' in Jira projects.",
    ),
  statusName: zod
    .string()
    .min(1)
    .max(createTestCycleBodyStatusNameMax)
    .optional()
    .describe("The status name."),
  folderId: zod
    .number()
    .min(1)
    .optional()
    .describe("ID of a folder to place the entity within."),
  ownerId: zod
    .string()
    .regex(createTestCycleBodyOwnerIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
});

/**
 * Returns a test cycle for the given key.
 * @summary Get test cycle
 */
export const getTestCyclePathTestCycleIdOrKeyRegExp =
  /([0-9]+)|([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const getTestCycleParams = zod.object({
  testCycleIdOrKey: zod
    .string()
    .regex(getTestCyclePathTestCycleIdOrKeyRegExp)
    .describe("The ID or key of the test cycle."),
});

export const getTestCycleResponseKeyRegExp = /([A-Z][A-Z_0-9]+-R[0-9]+)/;
export const getTestCycleResponseNameRegExp = /^(?!\s*$).+/;

export const getTestCycleResponseOwnerAccountIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const getTestCycleResponse = zod
  .object({
    id: zod.number().min(1),
    key: zod
      .string()
      .regex(getTestCycleResponseKeyRegExp)
      .describe("Unique key of the test cycle"),
    name: zod
      .string()
      .regex(getTestCycleResponseNameRegExp)
      .describe("Name of the Test Cycle"),
    project: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .describe("ID and link relative to Zephyr project."),
    jiraProjectVersion: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .nullish()
      .describe(
        "ID and Link to fetch information about Jira Project version. Relates to 'Version' or 'Releases' in Jira projects.",
      ),
    status: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      ),
    folder: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .nullish(),
    description: zod
      .string()
      .nullish()
      .describe("Description outlining the scope."),
    plannedStartDate: zod
      .string()
      .datetime({})
      .nullish()
      .describe(
        "Planned start date of the test cycle. This field cannot be blank. Setting it as null or excluding it from the request will leave the field values unchanged. ISO 8601 Format (i.e., yyyy-MM-dd'T'HH:mm:ss'Z')",
      ),
    plannedEndDate: zod
      .string()
      .datetime({})
      .nullish()
      .describe(
        "The planned end date of the test cycle. This field cannot be blank. Setting it as null or excluding it from the request will leave the field values unchanged. ISO 8601 Format (i.e., yyyy-MM-dd'T'HH:mm:ss'Z')",
      ),
    owner: zod
      .object({
        accountId: zod
          .string()
          .regex(getTestCycleResponseOwnerAccountIdRegExp)
          .nullable()
          .describe("Atlassian Account ID of the Jira user."),
        self: zod
          .string()
          .url()
          .optional()
          .describe(
            "The Jira REST API endpoint to get the full representation of the Jira user.",
          ),
      })
      .nullish(),
    customFields: zod
      .record(zod.string(), zod.unknown())
      .optional()
      .describe(
        "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
      ),
    links: zod
      .object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      })
      .and(
        zod.object({
          issues: zod
            .array(
              zod
                .object({
                  issueId: zod.number().min(1).describe("The Jira issue ID"),
                })
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                      ),
                    id: zod
                      .number()
                      .min(1)
                      .optional()
                      .describe(
                        "The ID that represents the link between the entity and the Jira issue.",
                      ),
                    target: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The Jira Cloud REST API endpoint to get the full representation of the issue",
                      ),
                    type: zod
                      .enum(["COVERAGE", "BLOCKS", "RELATED"])
                      .optional()
                      .describe("The link type"),
                  }),
                ),
            )
            .optional()
            .describe("A list of Jira issues linked to this entity"),
          webLinks: zod
            .array(
              zod
                .object({
                  description: zod
                    .string()
                    .optional()
                    .describe("The web link description"),
                  url: zod.string().url().describe("The web link URL"),
                })
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                      ),
                    id: zod.number().min(1).optional(),
                    type: zod
                      .enum(["COVERAGE", "BLOCKS", "RELATED"])
                      .optional()
                      .describe("The link type"),
                  }),
                ),
            )
            .optional()
            .describe("A list of web links for this entity"),
          testPlans: zod
            .array(
              zod.object({
                id: zod
                  .number()
                  .min(1)
                  .optional()
                  .describe(
                    "The ID that represents the link between the Test Cycle and the Test Plan.",
                  ),
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                  ),
                testPlanId: zod
                  .number()
                  .optional()
                  .describe("The ID of the test plan"),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
                target: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint to get the full representation of the test plan",
                  ),
              }),
            )
            .optional()
            .describe("A list of test plans linked to a test cycle"),
        }),
      )
      .optional()
      .describe(
        "Represents all links that a Test Cycle has. This property is ignored on update operations.",
      ),
  })
  .describe("Details of a test cycle");

/**
 * Updates an existing test cycle.  Please take into account that for each non-specified field the value will be cleared. If the project has test cycle custom fields, all custom fields should be present in the request. To leave any of them blank, please set them null if they are not required custom fields.

 * @summary Update test cycle
 */
export const updateTestCyclePathTestCycleIdOrKeyRegExp =
  /([0-9]+)|([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const updateTestCycleParams = zod.object({
  testCycleIdOrKey: zod
    .string()
    .regex(updateTestCyclePathTestCycleIdOrKeyRegExp)
    .describe("The ID or key of the test cycle."),
});

export const updateTestCycleBodyKeyRegExp = /([A-Z][A-Z_0-9]+-R[0-9]+)/;
export const updateTestCycleBodyNameRegExp = /^(?!\s*$).+/;

export const updateTestCycleBodyOwnerAccountIdRegExp = /^[-:a-zA-Z0-9]{1,128}$/;

export const updateTestCycleBody = zod
  .object({
    id: zod.number().min(1),
    key: zod
      .string()
      .regex(updateTestCycleBodyKeyRegExp)
      .describe("Unique key of the test cycle"),
    name: zod
      .string()
      .regex(updateTestCycleBodyNameRegExp)
      .describe("Name of the Test Cycle"),
    project: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .describe("ID and link relative to Zephyr project."),
    jiraProjectVersion: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .nullish()
      .describe(
        "ID and Link to fetch information about Jira Project version. Relates to 'Version' or 'Releases' in Jira projects.",
      ),
    status: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      ),
    folder: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .nullish(),
    description: zod
      .string()
      .nullish()
      .describe("Description outlining the scope."),
    plannedStartDate: zod
      .string()
      .datetime({})
      .nullish()
      .describe(
        "Planned start date of the test cycle. This field cannot be blank. Setting it as null or excluding it from the request will leave the field values unchanged. ISO 8601 Format (i.e., yyyy-MM-dd'T'HH:mm:ss'Z')",
      ),
    plannedEndDate: zod
      .string()
      .datetime({})
      .nullish()
      .describe(
        "The planned end date of the test cycle. This field cannot be blank. Setting it as null or excluding it from the request will leave the field values unchanged. ISO 8601 Format (i.e., yyyy-MM-dd'T'HH:mm:ss'Z')",
      ),
    owner: zod
      .object({
        accountId: zod
          .string()
          .regex(updateTestCycleBodyOwnerAccountIdRegExp)
          .nullable()
          .describe("Atlassian Account ID of the Jira user."),
        self: zod
          .string()
          .url()
          .optional()
          .describe(
            "The Jira REST API endpoint to get the full representation of the Jira user.",
          ),
      })
      .nullish(),
    customFields: zod
      .record(zod.string(), zod.unknown())
      .optional()
      .describe(
        "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
      ),
    links: zod
      .object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      })
      .and(
        zod.object({
          issues: zod
            .array(
              zod
                .object({
                  issueId: zod.number().min(1).describe("The Jira issue ID"),
                })
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                      ),
                    id: zod
                      .number()
                      .min(1)
                      .optional()
                      .describe(
                        "The ID that represents the link between the entity and the Jira issue.",
                      ),
                    target: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The Jira Cloud REST API endpoint to get the full representation of the issue",
                      ),
                    type: zod
                      .enum(["COVERAGE", "BLOCKS", "RELATED"])
                      .optional()
                      .describe("The link type"),
                  }),
                ),
            )
            .optional()
            .describe("A list of Jira issues linked to this entity"),
          webLinks: zod
            .array(
              zod
                .object({
                  description: zod
                    .string()
                    .optional()
                    .describe("The web link description"),
                  url: zod.string().url().describe("The web link URL"),
                })
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                      ),
                    id: zod.number().min(1).optional(),
                    type: zod
                      .enum(["COVERAGE", "BLOCKS", "RELATED"])
                      .optional()
                      .describe("The link type"),
                  }),
                ),
            )
            .optional()
            .describe("A list of web links for this entity"),
          testPlans: zod
            .array(
              zod.object({
                id: zod
                  .number()
                  .min(1)
                  .optional()
                  .describe(
                    "The ID that represents the link between the Test Cycle and the Test Plan.",
                  ),
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                  ),
                testPlanId: zod
                  .number()
                  .optional()
                  .describe("The ID of the test plan"),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
                target: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint to get the full representation of the test plan",
                  ),
              }),
            )
            .optional()
            .describe("A list of test plans linked to a test cycle"),
        }),
      )
      .optional()
      .describe(
        "Represents all links that a Test Cycle has. This property is ignored on update operations.",
      ),
  })
  .describe("Details of a test cycle");

/**
 * Returns links for a test cycle with specified key.
 * @summary Get links
 */
export const getTestCycleLinksPathTestCycleIdOrKeyRegExp =
  /([0-9]+)|([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const getTestCycleLinksParams = zod.object({
  testCycleIdOrKey: zod
    .string()
    .regex(getTestCycleLinksPathTestCycleIdOrKeyRegExp)
    .describe("The ID or key of the test cycle."),
});

export const getTestCycleLinksResponse = zod
  .object({
    self: zod
      .string()
      .url()
      .optional()
      .describe("The REST API endpoint to get more resource details."),
  })
  .and(
    zod.object({
      issues: zod
        .array(
          zod
            .object({
              issueId: zod.number().min(1).describe("The Jira issue ID"),
            })
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                  ),
                id: zod
                  .number()
                  .min(1)
                  .optional()
                  .describe(
                    "The ID that represents the link between the entity and the Jira issue.",
                  ),
                target: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Jira Cloud REST API endpoint to get the full representation of the issue",
                  ),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
              }),
            ),
        )
        .optional()
        .describe("A list of Jira issues linked to this entity"),
      webLinks: zod
        .array(
          zod
            .object({
              description: zod
                .string()
                .optional()
                .describe("The web link description"),
              url: zod.string().url().describe("The web link URL"),
            })
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                  ),
                id: zod.number().min(1).optional(),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
              }),
            ),
        )
        .optional()
        .describe("A list of web links for this entity"),
      testPlans: zod
        .array(
          zod.object({
            id: zod
              .number()
              .min(1)
              .optional()
              .describe(
                "The ID that represents the link between the Test Cycle and the Test Plan.",
              ),
            self: zod
              .string()
              .url()
              .optional()
              .describe(
                "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
              ),
            testPlanId: zod
              .number()
              .optional()
              .describe("The ID of the test plan"),
            type: zod
              .enum(["COVERAGE", "BLOCKS", "RELATED"])
              .optional()
              .describe("The link type"),
            target: zod
              .string()
              .url()
              .optional()
              .describe(
                "The Zephyr REST API endpoint to get the full representation of the test plan",
              ),
          }),
        )
        .optional()
        .describe("A list of test plans linked to a test cycle"),
    }),
  )
  .describe(
    "Represents all links that a Test Cycle has. This property is ignored on update operations.",
  );

/**
 * Creates a link between a test cycle and a Jira issue.
 * @summary Create issue link
 */
export const createTestCycleIssueLinkPathTestCycleIdOrKeyRegExp =
  /([0-9]+)|([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const createTestCycleIssueLinkParams = zod.object({
  testCycleIdOrKey: zod
    .string()
    .regex(createTestCycleIssueLinkPathTestCycleIdOrKeyRegExp)
    .describe("The ID or key of the test cycle."),
});

export const createTestCycleIssueLinkBody = zod.object({
  issueId: zod.number().min(1).describe("The Jira issue ID"),
});

/**
 * Creates a link between a test cycle and a generic URL.
 * @summary Create web link
 */
export const createTestCycleWebLinkPathTestCycleIdOrKeyRegExp =
  /([0-9]+)|([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const createTestCycleWebLinkParams = zod.object({
  testCycleIdOrKey: zod
    .string()
    .regex(createTestCycleWebLinkPathTestCycleIdOrKeyRegExp)
    .describe("The ID or key of the test cycle."),
});

export const createTestCycleWebLinkBody = zod.object({
  description: zod.string().optional().describe("The web link description"),
  url: zod.string().url().describe("The web link URL"),
});

/**
 * Retrieves all test plans. Query parameters can be used to filter the results.
 * @summary Get test plans
 */
export const listTestPlansQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const listTestPlansQueryMaxResultsDefault = 10;

export const listTestPlansQueryStartAtDefault = 0;
export const listTestPlansQueryStartAtMin = 0;
export const listTestPlansQueryStartAtMax = 1000000;

export const listTestPlansQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(listTestPlansQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  maxResults: zod
    .number()
    .min(1)
    .default(listTestPlansQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listTestPlansQueryStartAtMin)
    .max(listTestPlansQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const listTestPlansResponseStartAtMin = 0;

export const listTestPlansResponseTotalMin = 0;

export const listTestPlansResponseValuesItemKeyRegExp = /.+-P[0-9]+/;
export const listTestPlansResponseValuesItemNameRegExp = /^(?!\\s*$).+/;

export const listTestPlansResponseValuesItemOwnerAccountIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const listTestPlansResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listTestPlansResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listTestPlansResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod.object({
            id: zod.number().min(1),
            key: zod
              .string()
              .regex(listTestPlansResponseValuesItemKeyRegExp)
              .describe("Key of the test plan"),
            name: zod.string().regex(listTestPlansResponseValuesItemNameRegExp),
            objective: zod
              .string()
              .nullish()
              .describe("A description of the objective."),
            project: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .describe("ID and link relative to Zephyr project."),
            status: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              ),
            folder: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish(),
            owner: zod
              .object({
                accountId: zod
                  .string()
                  .regex(listTestPlansResponseValuesItemOwnerAccountIdRegExp)
                  .nullable()
                  .describe("Atlassian Account ID of the Jira user."),
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Jira REST API endpoint to get the full representation of the Jira user.",
                  ),
              })
              .nullish(),
            customFields: zod
              .record(zod.string(), zod.unknown())
              .optional()
              .describe(
                "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
              ),
            labels: zod
              .array(zod.string())
              .optional()
              .describe("Array of labels associated to this entity."),
            links: zod
              .object({
                webLinks: zod
                  .array(
                    zod
                      .object({
                        description: zod
                          .string()
                          .optional()
                          .describe("The web link description"),
                        url: zod.string().url().describe("The web link URL"),
                      })
                      .and(
                        zod.object({
                          self: zod
                            .string()
                            .url()
                            .optional()
                            .describe(
                              "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                            ),
                          id: zod.number().min(1).optional(),
                          type: zod
                            .enum(["COVERAGE", "BLOCKS", "RELATED"])
                            .optional()
                            .describe("The link type"),
                        }),
                      ),
                  )
                  .optional()
                  .describe("A list of web links for this entity"),
                issues: zod
                  .array(
                    zod
                      .object({
                        issueId: zod
                          .number()
                          .min(1)
                          .describe("The Jira issue ID"),
                      })
                      .and(
                        zod.object({
                          self: zod
                            .string()
                            .url()
                            .optional()
                            .describe(
                              "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                            ),
                          id: zod
                            .number()
                            .min(1)
                            .optional()
                            .describe(
                              "The ID that represents the link between the entity and the Jira issue.",
                            ),
                          target: zod
                            .string()
                            .url()
                            .optional()
                            .describe(
                              "The Jira Cloud REST API endpoint to get the full representation of the issue",
                            ),
                          type: zod
                            .enum(["COVERAGE", "BLOCKS", "RELATED"])
                            .optional()
                            .describe("The link type"),
                        }),
                      ),
                  )
                  .optional()
                  .describe("A list of Jira issues linked to this entity"),
                testCycles: zod
                  .array(
                    zod
                      .object({
                        id: zod.number().min(1),
                      })
                      .describe("The ID of the resource")
                      .and(
                        zod.object({
                          self: zod
                            .string()
                            .url()
                            .optional()
                            .describe(
                              "The REST API endpoint to get more resource details.",
                            ),
                        }),
                      )
                      .and(
                        zod.object({
                          testCycleId: zod.number().min(1).optional(),
                          type: zod
                            .enum(["COVERAGE", "BLOCKS", "RELATED"])
                            .optional()
                            .describe("The link type"),
                          target: zod
                            .string()
                            .optional()
                            .describe("The test cycle resource"),
                        }),
                      ),
                  )
                  .optional()
                  .describe("A list of test cycle links for a test plan"),
              })
              .optional(),
          }),
        )
        .optional(),
    }),
  );

/**
 * Creates a test plan. All required test plan custom fields should be present in the request.
 * @summary Create test plan
 */
export const createTestPlanBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createTestPlanBodyNameRegExp = /^(?!\\s*$).+/;

export const createTestPlanBodyStatusNameMax = 255;

export const createTestPlanBodyOwnerIdRegExp = /^[-:a-zA-Z0-9]{1,128}$/;

export const createTestPlanBody = zod.object({
  projectKey: zod
    .string()
    .regex(createTestPlanBodyProjectKeyRegExp)
    .describe("Jira project key."),
  name: zod.string().regex(createTestPlanBodyNameRegExp),
  objective: zod.string().nullish().describe("A description of the objective."),
  folderId: zod
    .number()
    .min(1)
    .optional()
    .describe("ID of a folder to place the entity within."),
  statusName: zod
    .string()
    .min(1)
    .max(createTestPlanBodyStatusNameMax)
    .optional()
    .describe("The status name."),
  ownerId: zod
    .string()
    .regex(createTestPlanBodyOwnerIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  labels: zod
    .array(zod.string())
    .optional()
    .describe("Array of labels associated to this entity."),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
});

/**
 * Returns a test plan for the given id or key.
 * @summary Get test plan
 */
export const getTestPlanPathTestPlanIdOrKeyRegExp = /([0-9]+)|(.+-P[0-9]+)/;

export const getTestPlanParams = zod.object({
  testPlanIdOrKey: zod
    .string()
    .regex(getTestPlanPathTestPlanIdOrKeyRegExp)
    .describe(
      "The ID or key of the test plan. Test plan keys are of the format [A-Z]+-P[0-9]+",
    ),
});

export const getTestPlanResponseKeyRegExp = /.+-P[0-9]+/;
export const getTestPlanResponseNameRegExp = /^(?!\\s*$).+/;

export const getTestPlanResponseOwnerAccountIdRegExp = /^[-:a-zA-Z0-9]{1,128}$/;

export const getTestPlanResponse = zod.object({
  id: zod.number().min(1),
  key: zod
    .string()
    .regex(getTestPlanResponseKeyRegExp)
    .describe("Key of the test plan"),
  name: zod.string().regex(getTestPlanResponseNameRegExp),
  objective: zod.string().nullish().describe("A description of the objective."),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  status: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  folder: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  owner: zod
    .object({
      accountId: zod
        .string()
        .regex(getTestPlanResponseOwnerAccountIdRegExp)
        .nullable()
        .describe("Atlassian Account ID of the Jira user."),
      self: zod
        .string()
        .url()
        .optional()
        .describe(
          "The Jira REST API endpoint to get the full representation of the Jira user.",
        ),
    })
    .nullish(),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
  labels: zod
    .array(zod.string())
    .optional()
    .describe("Array of labels associated to this entity."),
  links: zod
    .object({
      webLinks: zod
        .array(
          zod
            .object({
              description: zod
                .string()
                .optional()
                .describe("The web link description"),
              url: zod.string().url().describe("The web link URL"),
            })
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and this web link.",
                  ),
                id: zod.number().min(1).optional(),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
              }),
            ),
        )
        .optional()
        .describe("A list of web links for this entity"),
      issues: zod
        .array(
          zod
            .object({
              issueId: zod.number().min(1).describe("The Jira issue ID"),
            })
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                  ),
                id: zod
                  .number()
                  .min(1)
                  .optional()
                  .describe(
                    "The ID that represents the link between the entity and the Jira issue.",
                  ),
                target: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Jira Cloud REST API endpoint to get the full representation of the issue",
                  ),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
              }),
            ),
        )
        .optional()
        .describe("A list of Jira issues linked to this entity"),
      testCycles: zod
        .array(
          zod
            .object({
              id: zod.number().min(1),
            })
            .describe("The ID of the resource")
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              }),
            )
            .and(
              zod.object({
                testCycleId: zod.number().min(1).optional(),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
                target: zod
                  .string()
                  .optional()
                  .describe("The test cycle resource"),
              }),
            ),
        )
        .optional()
        .describe("A list of test cycle links for a test plan"),
    })
    .optional(),
});

/**
 * Creates a link between a test plan and a generic URL.
 * @summary Create web link
 */
export const createTestPlanWebLinkPathTestPlanIdOrKeyRegExp =
  /([0-9]+)|(.+-P[0-9]+)/;

export const createTestPlanWebLinkParams = zod.object({
  testPlanIdOrKey: zod
    .string()
    .regex(createTestPlanWebLinkPathTestPlanIdOrKeyRegExp)
    .describe(
      "The ID or key of the test plan. Test plan keys are of the format [A-Z]+-P[0-9]+",
    ),
});

export const createTestPlanWebLinkBody = zod
  .object({
    description: zod.string().optional().describe("The web link description"),
    url: zod.string().url().describe("The web link URL"),
  })
  .and(zod.unknown());

/**
 * Creates a link between a test plan and a Jira issue.
 * @summary Create issue link
 */
export const createTestPlanIssueLinkPathTestPlanIdOrKeyRegExp =
  /([0-9]+)|(.+-P[0-9]+)/;

export const createTestPlanIssueLinkParams = zod.object({
  testPlanIdOrKey: zod
    .string()
    .regex(createTestPlanIssueLinkPathTestPlanIdOrKeyRegExp)
    .describe(
      "The ID or key of the test plan. Test plan keys are of the format [A-Z]+-P[0-9]+",
    ),
});

export const createTestPlanIssueLinkBody = zod.object({
  issueId: zod.number().min(1).describe("The Jira issue ID"),
});

/**
 * Creates a link between a test plan and a test cycle.
 * @summary Create test cycle link
 */
export const createTestPlanTestCycleLinkPathTestPlanIdOrKeyRegExp =
  /([0-9]+)|(.+-P[0-9]+)/;

export const createTestPlanTestCycleLinkParams = zod.object({
  testPlanIdOrKey: zod
    .string()
    .regex(createTestPlanTestCycleLinkPathTestPlanIdOrKeyRegExp)
    .describe(
      "The ID or key of the test plan. Test plan keys are of the format [A-Z]+-P[0-9]+",
    ),
});

export const createTestPlanTestCycleLinkBodyTestCycleIdOrKeyRegExp =
  /([0-9]+)|([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const createTestPlanTestCycleLinkBody = zod.object({
  testCycleIdOrKey: zod
    .string()
    .regex(createTestPlanTestCycleLinkBodyTestCycleIdOrKeyRegExp)
    .describe("The ID or key of the test cycle."),
});

/**
 * Returns all test executions. Query parameters can be used to filter by project and folder.
 * @summary Get test executions
 */
export const listTestExecutionsQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const listTestExecutionsQueryTestCycleRegExp =
  /([A-Z][A-Z_0-9]+-R[0-9]+)/;
export const listTestExecutionsQueryTestCaseRegExp = /([0-9]+)|(.+-T[0-9]+)/;
export const listTestExecutionsQueryIncludeStepLinksDefault = false;
export const listTestExecutionsQueryOnlyLastExecutionsDefault = false;
export const listTestExecutionsQueryMaxResultsDefault = 10;

export const listTestExecutionsQueryStartAtDefault = 0;
export const listTestExecutionsQueryStartAtMin = 0;
export const listTestExecutionsQueryStartAtMax = 1000000;

export const listTestExecutionsQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(listTestExecutionsQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  testCycle: zod
    .string()
    .regex(listTestExecutionsQueryTestCycleRegExp)
    .optional()
    .describe("Test cycle key filter."),
  testCase: zod
    .string()
    .regex(listTestExecutionsQueryTestCaseRegExp)
    .optional()
    .describe("Test case key filter."),
  actualEndDateAfter: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Filter for 'Actual End Date' after the given time. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  actualEndDateBefore: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Filter for 'Actual End Date' before the given time. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  includeStepLinks: zod
    .boolean()
    .optional()
    .describe(
      "If true, execution step issue links will be included in the response",
    ),
  jiraProjectVersionId: zod
    .number()
    .min(1)
    .optional()
    .describe(
      "Jira Project Version ID. Relates to 'Version' or 'Releases' in Jira projects.",
    ),
  onlyLastExecutions: zod
    .boolean()
    .optional()
    .describe(
      "If true, includes only the last execution of each test cycle item (test case), and all ad-hoc test executions.",
    ),
  maxResults: zod
    .number()
    .min(1)
    .default(listTestExecutionsQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listTestExecutionsQueryStartAtMin)
    .max(listTestExecutionsQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const listTestExecutionsResponseStartAtMin = 0;

export const listTestExecutionsResponseTotalMin = 0;

export const listTestExecutionsResponseValuesItemKeyRegExp = /.+-E[0-9]+/;

export const listTestExecutionsResponseValuesItemEstimatedTimeMin = 0;

export const listTestExecutionsResponseValuesItemExecutionTimeMin = 0;

export const listTestExecutionsResponseValuesItemExecutedByIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;
export const listTestExecutionsResponseValuesItemAssignedToIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const listTestExecutionsResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listTestExecutionsResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listTestExecutionsResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod.object({
            id: zod.number().min(1),
            key: zod
              .string()
              .regex(listTestExecutionsResponseValuesItemKeyRegExp)
              .optional()
              .describe("Test execution key"),
            project: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .describe("ID and link relative to Zephyr project."),
            testCase: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  id: zod.number().min(1).optional(),
                }),
              ),
            environment: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish(),
            jiraProjectVersion: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish()
              .describe(
                "ID and Link to fetch information about Jira Project version. Relates to 'Version' or 'Releases' in Jira projects.",
              ),
            testExecutionStatus: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              ),
            actualEndDate: zod
              .string()
              .datetime({})
              .optional()
              .describe(
                "The actual end date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
              ),
            estimatedTime: zod
              .number()
              .min(listTestExecutionsResponseValuesItemEstimatedTimeMin)
              .nullish()
              .describe("Estimated duration in milliseconds."),
            executionTime: zod
              .number()
              .min(listTestExecutionsResponseValuesItemExecutionTimeMin)
              .nullish()
              .describe("Actual test execution time in milliseconds."),
            executedById: zod
              .string()
              .regex(listTestExecutionsResponseValuesItemExecutedByIdRegExp)
              .nullish()
              .describe("Atlassian Account ID of the Jira user."),
            assignedToId: zod
              .string()
              .regex(listTestExecutionsResponseValuesItemAssignedToIdRegExp)
              .nullish()
              .describe("Atlassian Account ID of the Jira user."),
            comment: zod
              .string()
              .nullish()
              .describe("Comment added against overall test case execution."),
            automated: zod
              .boolean()
              .optional()
              .describe(
                "Indicates if the test execution was done manually or not.",
              ),
            testCycle: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  id: zod.number().min(1).optional(),
                }),
              )
              .nullish(),
            customFields: zod
              .record(zod.string(), zod.unknown())
              .optional()
              .describe(
                "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
              ),
            links: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  issues: zod
                    .array(
                      zod
                        .object({
                          issueId: zod
                            .number()
                            .min(1)
                            .describe("The Jira issue ID"),
                        })
                        .and(
                          zod.object({
                            self: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                              ),
                            id: zod
                              .number()
                              .min(1)
                              .optional()
                              .describe(
                                "The ID that represents the link between the entity and the Jira issue.",
                              ),
                            target: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Jira Cloud REST API endpoint to get the full representation of the issue",
                              ),
                            type: zod
                              .enum(["COVERAGE", "BLOCKS", "RELATED"])
                              .optional()
                              .describe("The link type"),
                          }),
                        ),
                    )
                    .optional()
                    .describe("A list of Jira issues linked to this entity"),
                }),
              )
              .optional(),
          }),
        )
        .optional(),
    }),
  );

/**
 * Creates a test execution. All required test execution custom fields should be present in the request.
 * @summary Create test execution
 */
export const createTestExecutionBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createTestExecutionBodyTestCaseKeyRegExp = /(.+-T[0-9]+)/;
export const createTestExecutionBodyTestCycleKeyRegExp =
  /([A-Z][A-Z_0-9]+-R[0-9]+)/;
export const createTestExecutionBodyStatusNameMax = 255;

export const createTestExecutionBodyTestScriptResultsItemStatusNameMax = 255;

export const createTestExecutionBodyExecutionTimeMin = 0;

export const createTestExecutionBodyExecutedByIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;
export const createTestExecutionBodyAssignedToIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const createTestExecutionBody = zod.object({
  projectKey: zod
    .string()
    .regex(createTestExecutionBodyProjectKeyRegExp)
    .describe("Jira project key."),
  testCaseKey: zod
    .string()
    .regex(createTestExecutionBodyTestCaseKeyRegExp)
    .describe(
      "Key of test case the execution applies to. NOTE: Test cases with call to test, parameters and test data are not supported.",
    ),
  testCycleKey: zod
    .string()
    .regex(createTestExecutionBodyTestCycleKeyRegExp)
    .describe("Key of test cycle the execution applies to."),
  statusName: zod
    .string()
    .min(1)
    .max(createTestExecutionBodyStatusNameMax)
    .describe("The status name."),
  testScriptResults: zod
    .array(
      zod.object({
        statusName: zod
          .string()
          .min(1)
          .max(createTestExecutionBodyTestScriptResultsItemStatusNameMax)
          .describe("The status name."),
        actualEndDate: zod
          .string()
          .datetime({})
          .optional()
          .describe(
            "The actual end date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
          ),
        actualResult: zod
          .string()
          .optional()
          .describe(
            "free text field to provide more info on result of step execution.",
          ),
      }),
    )
    .optional(),
  environmentName: zod
    .string()
    .optional()
    .describe("Environment assigned to the test case."),
  actualEndDate: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "The actual end date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  executionTime: zod
    .number()
    .min(createTestExecutionBodyExecutionTimeMin)
    .optional()
    .describe("Actual test execution time in milliseconds."),
  executedById: zod
    .string()
    .regex(createTestExecutionBodyExecutedByIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  assignedToId: zod
    .string()
    .regex(createTestExecutionBodyAssignedToIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  comment: zod
    .string()
    .nullish()
    .describe("Comment added against overall test case execution."),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
});

/**
 * Retrieves all test executions. Query parameters can be used to filter the results.

Use this endpoint for retrieving large volumes of test executions.

Results are split into separate pages, each of the same size as the `limit` query parameter.
To fetch the next page, use the `next` URL returned in the response.
It should have the same parameters as the original request, with the updated value for `startAtId` parameter.
Alternatively, the same request can be made with the `startAtId` parameter set to the `nextStartId` value
returned in the response.

 * @summary Get test executions (NextGen)
 */
export const listTestExecutionsNextgenQueryProjectKeyRegExp =
  /([A-Z][A-Z_0-9]+)/;
export const listTestExecutionsNextgenQueryTestCycleRegExp =
  /([A-Z][A-Z_0-9]+-R[0-9]+)/;
export const listTestExecutionsNextgenQueryTestCaseRegExp =
  /([0-9]+)|(.+-T[0-9]+)/;
export const listTestExecutionsNextgenQueryIncludeStepLinksDefault = false;
export const listTestExecutionsNextgenQueryOnlyLastExecutionsDefault = false;
export const listTestExecutionsNextgenQueryLimitDefault = 10;
export const listTestExecutionsNextgenQueryLimitMax = 1000;

export const listTestExecutionsNextgenQueryStartAtIdDefault = 0;
export const listTestExecutionsNextgenQueryStartAtIdMin = 0;

export const listTestExecutionsNextgenQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(listTestExecutionsNextgenQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  testCycle: zod
    .string()
    .regex(listTestExecutionsNextgenQueryTestCycleRegExp)
    .optional()
    .describe("Test cycle key filter."),
  testCase: zod
    .string()
    .regex(listTestExecutionsNextgenQueryTestCaseRegExp)
    .optional()
    .describe("Test case key filter."),
  actualEndDateAfter: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Filter for 'Actual End Date' after the given time. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  actualEndDateBefore: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "Filter for 'Actual End Date' before the given time. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  includeStepLinks: zod
    .boolean()
    .optional()
    .describe(
      "If true, execution step issue links will be included in the response",
    ),
  jiraProjectVersionId: zod
    .number()
    .min(1)
    .optional()
    .describe(
      "Jira Project Version ID. Relates to 'Version' or 'Releases' in Jira projects.",
    ),
  onlyLastExecutions: zod
    .boolean()
    .optional()
    .describe(
      "If true, includes only the last execution of each test cycle item (test case), and all ad-hoc test executions.",
    ),
  limit: zod
    .number()
    .min(1)
    .max(listTestExecutionsNextgenQueryLimitMax)
    .default(listTestExecutionsNextgenQueryLimitDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the limit value in the response to confirm how many results were actually returned.\n",
    ),
  startAtId: zod
    .number()
    .min(listTestExecutionsNextgenQueryStartAtIdMin)
    .optional()
    .describe("Zero-indexed starting position for ID-based pagination."),
});

export const listTestExecutionsNextgenResponseNextStartAtIdMin = 0;

export const listTestExecutionsNextgenResponseLimitMin = 0;

export const listTestExecutionsNextgenResponseValuesItemKeyRegExp =
  /.+-E[0-9]+/;

export const listTestExecutionsNextgenResponseValuesItemEstimatedTimeMin = 0;

export const listTestExecutionsNextgenResponseValuesItemExecutionTimeMin = 0;

export const listTestExecutionsNextgenResponseValuesItemExecutedByIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;
export const listTestExecutionsNextgenResponseValuesItemAssignedToIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const listTestExecutionsNextgenResponse = zod
  .object({
    next: zod.string().url().nullish(),
    nextStartAtId: zod
      .number()
      .min(listTestExecutionsNextgenResponseNextStartAtIdMin)
      .nullable(),
    limit: zod.number().min(listTestExecutionsNextgenResponseLimitMin),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod.object({
            id: zod.number().min(1),
            key: zod
              .string()
              .regex(listTestExecutionsNextgenResponseValuesItemKeyRegExp)
              .optional()
              .describe("Test execution key"),
            project: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .describe("ID and link relative to Zephyr project."),
            testCase: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  id: zod.number().min(1).optional(),
                }),
              ),
            environment: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish(),
            jiraProjectVersion: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .nullish()
              .describe(
                "ID and Link to fetch information about Jira Project version. Relates to 'Version' or 'Releases' in Jira projects.",
              ),
            testExecutionStatus: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              ),
            actualEndDate: zod
              .string()
              .datetime({})
              .optional()
              .describe(
                "The actual end date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
              ),
            estimatedTime: zod
              .number()
              .min(listTestExecutionsNextgenResponseValuesItemEstimatedTimeMin)
              .nullish()
              .describe("Estimated duration in milliseconds."),
            executionTime: zod
              .number()
              .min(listTestExecutionsNextgenResponseValuesItemExecutionTimeMin)
              .nullish()
              .describe("Actual test execution time in milliseconds."),
            executedById: zod
              .string()
              .regex(
                listTestExecutionsNextgenResponseValuesItemExecutedByIdRegExp,
              )
              .nullish()
              .describe("Atlassian Account ID of the Jira user."),
            assignedToId: zod
              .string()
              .regex(
                listTestExecutionsNextgenResponseValuesItemAssignedToIdRegExp,
              )
              .nullish()
              .describe("Atlassian Account ID of the Jira user."),
            comment: zod
              .string()
              .nullish()
              .describe("Comment added against overall test case execution."),
            automated: zod
              .boolean()
              .optional()
              .describe(
                "Indicates if the test execution was done manually or not.",
              ),
            testCycle: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  id: zod.number().min(1).optional(),
                }),
              )
              .nullish(),
            customFields: zod
              .record(zod.string(), zod.unknown())
              .optional()
              .describe(
                "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
              ),
            links: zod
              .object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The REST API endpoint to get more resource details.",
                  ),
              })
              .and(
                zod.object({
                  issues: zod
                    .array(
                      zod
                        .object({
                          issueId: zod
                            .number()
                            .min(1)
                            .describe("The Jira issue ID"),
                        })
                        .and(
                          zod.object({
                            self: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                              ),
                            id: zod
                              .number()
                              .min(1)
                              .optional()
                              .describe(
                                "The ID that represents the link between the entity and the Jira issue.",
                              ),
                            target: zod
                              .string()
                              .url()
                              .optional()
                              .describe(
                                "The Jira Cloud REST API endpoint to get the full representation of the issue",
                              ),
                            type: zod
                              .enum(["COVERAGE", "BLOCKS", "RELATED"])
                              .optional()
                              .describe("The link type"),
                          }),
                        ),
                    )
                    .optional()
                    .describe("A list of Jira issues linked to this entity"),
                }),
              )
              .optional(),
          }),
        )
        .optional(),
    }),
  );

/**
 * Returns a test execution for the given ID.
 * @summary Get test execution
 */
export const getTestExecutionPathTestExecutionIdOrKeyRegExp =
  /([0-9]+)|(.+-E[0-9]+)/;

export const getTestExecutionParams = zod.object({
  testExecutionIdOrKey: zod
    .string()
    .regex(getTestExecutionPathTestExecutionIdOrKeyRegExp)
    .describe(
      "The ID or key of the test execution. Test execution keys are of the format [A-Z]+-E[0-9]+",
    ),
});

export const getTestExecutionQueryIncludeStepLinksDefault = false;

export const getTestExecutionQueryParams = zod.object({
  includeStepLinks: zod
    .boolean()
    .optional()
    .describe(
      "If true, execution step issue links will be included in the response",
    ),
});

export const getTestExecutionResponseKeyRegExp = /.+-E[0-9]+/;

export const getTestExecutionResponseEstimatedTimeMin = 0;

export const getTestExecutionResponseExecutionTimeMin = 0;

export const getTestExecutionResponseExecutedByIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;
export const getTestExecutionResponseAssignedToIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const getTestExecutionResponse = zod.object({
  id: zod.number().min(1),
  key: zod
    .string()
    .regex(getTestExecutionResponseKeyRegExp)
    .optional()
    .describe("Test execution key"),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  testCase: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .and(
      zod.object({
        id: zod.number().min(1).optional(),
      }),
    ),
  environment: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish(),
  jiraProjectVersion: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .nullish()
    .describe(
      "ID and Link to fetch information about Jira Project version. Relates to 'Version' or 'Releases' in Jira projects.",
    ),
  testExecutionStatus: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    ),
  actualEndDate: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "The actual end date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  estimatedTime: zod
    .number()
    .min(getTestExecutionResponseEstimatedTimeMin)
    .nullish()
    .describe("Estimated duration in milliseconds."),
  executionTime: zod
    .number()
    .min(getTestExecutionResponseExecutionTimeMin)
    .nullish()
    .describe("Actual test execution time in milliseconds."),
  executedById: zod
    .string()
    .regex(getTestExecutionResponseExecutedByIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  assignedToId: zod
    .string()
    .regex(getTestExecutionResponseAssignedToIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  comment: zod
    .string()
    .nullish()
    .describe("Comment added against overall test case execution."),
  automated: zod
    .boolean()
    .optional()
    .describe("Indicates if the test execution was done manually or not."),
  testCycle: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .and(
      zod.object({
        id: zod.number().min(1).optional(),
      }),
    )
    .nullish(),
  customFields: zod
    .record(zod.string(), zod.unknown())
    .optional()
    .describe(
      "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
    ),
  links: zod
    .object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    })
    .and(
      zod.object({
        issues: zod
          .array(
            zod
              .object({
                issueId: zod.number().min(1).describe("The Jira issue ID"),
              })
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                    ),
                  id: zod
                    .number()
                    .min(1)
                    .optional()
                    .describe(
                      "The ID that represents the link between the entity and the Jira issue.",
                    ),
                  target: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The Jira Cloud REST API endpoint to get the full representation of the issue",
                    ),
                  type: zod
                    .enum(["COVERAGE", "BLOCKS", "RELATED"])
                    .optional()
                    .describe("The link type"),
                }),
              ),
          )
          .optional()
          .describe("A list of Jira issues linked to this entity"),
      }),
    )
    .optional(),
});

/**
 * Update the test execution.
 * @summary Update test execution
 */
export const updateTestExecutionPathTestExecutionIdOrKeyRegExp =
  /([0-9]+)|(.+-E[0-9]+)/;

export const updateTestExecutionParams = zod.object({
  testExecutionIdOrKey: zod
    .string()
    .regex(updateTestExecutionPathTestExecutionIdOrKeyRegExp)
    .describe(
      "The ID or key of the test execution. Test execution keys are of the format [A-Z]+-E[0-9]+",
    ),
});

export const updateTestExecutionBodyStatusNameMax = 255;

export const updateTestExecutionBodyExecutionTimeMin = 0;

export const updateTestExecutionBodyExecutedByIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;
export const updateTestExecutionBodyAssignedToIdRegExp =
  /^[-:a-zA-Z0-9]{1,128}$/;

export const updateTestExecutionBody = zod.object({
  statusName: zod
    .string()
    .min(1)
    .max(updateTestExecutionBodyStatusNameMax)
    .optional()
    .describe("The status name."),
  environmentName: zod
    .string()
    .optional()
    .describe("Environment assigned to the test case."),
  actualEndDate: zod
    .string()
    .datetime({})
    .optional()
    .describe(
      "The actual end date of the test cycle. Format: yyyy-MM-dd'T'HH:mm:ss'Z'",
    ),
  executionTime: zod
    .number()
    .min(updateTestExecutionBodyExecutionTimeMin)
    .optional()
    .describe("Actual test execution time in milliseconds."),
  executedById: zod
    .string()
    .regex(updateTestExecutionBodyExecutedByIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  assignedToId: zod
    .string()
    .regex(updateTestExecutionBodyAssignedToIdRegExp)
    .nullish()
    .describe("Atlassian Account ID of the Jira user."),
  comment: zod
    .string()
    .nullish()
    .describe("Comment added against overall test case execution."),
});

/**
 * Returns the test steps for the given test execution. Provides a paged response.
 * @summary Get test steps
 */
export const getTestExecutionTestStepsPathTestExecutionIdOrKeyRegExp =
  /([0-9]+)|(.+-E[0-9]+)/;

export const getTestExecutionTestStepsParams = zod.object({
  testExecutionIdOrKey: zod
    .string()
    .regex(getTestExecutionTestStepsPathTestExecutionIdOrKeyRegExp)
    .describe(
      "The ID or key of the test execution. Test execution keys are of the format [A-Z]+-E[0-9]+",
    ),
});

export const getTestExecutionTestStepsQueryMaxResultsDefault = 10;

export const getTestExecutionTestStepsQueryStartAtDefault = 0;
export const getTestExecutionTestStepsQueryStartAtMin = 0;
export const getTestExecutionTestStepsQueryStartAtMax = 1000000;

export const getTestExecutionTestStepsQueryTestDataRowNumberMin = 0;

export const getTestExecutionTestStepsQueryParams = zod.object({
  maxResults: zod
    .number()
    .min(1)
    .default(getTestExecutionTestStepsQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(getTestExecutionTestStepsQueryStartAtMin)
    .max(getTestExecutionTestStepsQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
  testDataRowNumber: zod
    .number()
    .min(getTestExecutionTestStepsQueryTestDataRowNumberMin)
    .optional()
    .describe("The id of the test data row to retrieve."),
});

export const getTestExecutionTestStepsResponseStartAtMin = 0;

export const getTestExecutionTestStepsResponseTotalMin = 0;

export const getTestExecutionTestStepsResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(getTestExecutionTestStepsResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(getTestExecutionTestStepsResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod
            .object({
              inline: zod
                .object({
                  description: zod
                    .string()
                    .optional()
                    .describe("The instruction to be followed"),
                  testData: zod
                    .string()
                    .optional()
                    .describe(
                      "Any test data required to perform the instruction (optional). The fields values provided can be interpolated into the description.",
                    ),
                  expectedResult: zod
                    .string()
                    .optional()
                    .describe(
                      "The expected outcome of executing the instruction",
                    ),
                  actualResult: zod
                    .string()
                    .optional()
                    .describe(
                      "The actual outcome of executing the instruction",
                    ),
                  testDataRowNumber: zod
                    .number()
                    .optional()
                    .describe("The id of the test data row"),
                  reflectRef: zod
                    .string()
                    .optional()
                    .describe("The AI reference. Zephyr only feature"),
                  status: zod
                    .object({
                      id: zod.number().min(1),
                    })
                    .describe("The ID of the resource")
                    .and(
                      zod.object({
                        self: zod
                          .string()
                          .url()
                          .optional()
                          .describe(
                            "The REST API endpoint to get more resource details.",
                          ),
                      }),
                    )
                    .optional(),
                })
                .optional(),
            })
            .describe("Inline test step"),
        )
        .optional()
        .describe("The list of test steps"),
    }),
  )
  .describe("Response body when retrieving test steps for a test execution");

/**
 * Updates the test steps for the given test execution.
 * @summary Update test steps
 */
export const putTestExecutionTestStepsPathTestExecutionIdOrKeyRegExp =
  /([0-9]+)|(.+-E[0-9]+)/;

export const putTestExecutionTestStepsParams = zod.object({
  testExecutionIdOrKey: zod
    .string()
    .regex(putTestExecutionTestStepsPathTestExecutionIdOrKeyRegExp)
    .describe(
      "The ID or key of the test execution. Test execution keys are of the format [A-Z]+-E[0-9]+",
    ),
});

export const putTestExecutionTestStepsBodyStepsItemStatusNameMax = 255;

export const putTestExecutionTestStepsBody = zod.object({
  steps: zod
    .array(
      zod.object({
        actualResult: zod.string().optional().describe("The actual result."),
        statusName: zod
          .string()
          .min(1)
          .max(putTestExecutionTestStepsBodyStepsItemStatusNameMax)
          .optional()
          .describe("The status name."),
      }),
    )
    .optional(),
});

/**
 * Sync test execution with content of test case script
 * @summary Sync test execution
 */
export const syncTestExecutionScriptPathTestExecutionIdOrKeyRegExp =
  /([0-9]+)|(.+-E[0-9]+)/;

export const syncTestExecutionScriptParams = zod.object({
  testExecutionIdOrKey: zod
    .string()
    .regex(syncTestExecutionScriptPathTestExecutionIdOrKeyRegExp)
    .describe(
      "The ID or key of the test execution. Test execution keys are of the format [A-Z]+-E[0-9]+",
    ),
});

export const syncTestExecutionScriptResponse = zod.object({
  self: zod
    .string()
    .url()
    .optional()
    .describe("The REST API endpoint to get more resource details."),
});

/**
 * Returns links for a test execution with specified ID.
 * @summary Get links
 */
export const listTestExecutionLinksPathTestExecutionIdOrKeyRegExp =
  /([0-9]+)|(.+-E[0-9]+)/;

export const listTestExecutionLinksParams = zod.object({
  testExecutionIdOrKey: zod
    .string()
    .regex(listTestExecutionLinksPathTestExecutionIdOrKeyRegExp)
    .describe(
      "The ID or key of the test execution. Test execution keys are of the format [A-Z]+-E[0-9]+",
    ),
});

export const listTestExecutionLinksResponse = zod
  .object({
    self: zod
      .string()
      .url()
      .optional()
      .describe("The REST API endpoint to get more resource details."),
  })
  .and(
    zod.object({
      issues: zod
        .array(
          zod
            .object({
              issueId: zod.number().min(1).describe("The Jira issue ID"),
            })
            .and(
              zod.object({
                self: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Zephyr REST API endpoint relative to the link between the entity and the Jira issue.",
                  ),
                id: zod
                  .number()
                  .min(1)
                  .optional()
                  .describe(
                    "The ID that represents the link between the entity and the Jira issue.",
                  ),
                target: zod
                  .string()
                  .url()
                  .optional()
                  .describe(
                    "The Jira Cloud REST API endpoint to get the full representation of the issue",
                  ),
                type: zod
                  .enum(["COVERAGE", "BLOCKS", "RELATED"])
                  .optional()
                  .describe("The link type"),
              }),
            ),
        )
        .optional()
        .describe("A list of Jira issues linked to this entity"),
    }),
  );

/**
 * Creates a link between a test execution and a Jira issue.
 * @summary Create issue link
 */
export const createTestExecutionIssueLinkPathTestExecutionIdOrKeyRegExp =
  /([0-9]+)|(.+-E[0-9]+)/;

export const createTestExecutionIssueLinkParams = zod.object({
  testExecutionIdOrKey: zod
    .string()
    .regex(createTestExecutionIssueLinkPathTestExecutionIdOrKeyRegExp)
    .describe(
      "The ID or key of the test execution. Test execution keys are of the format [A-Z]+-E[0-9]+",
    ),
});

export const createTestExecutionIssueLinkBody = zod.object({
  issueId: zod.number().min(1).describe("The Jira issue ID"),
});

/**
 * Returns all projects.
 * @summary Get projects
 */
export const listProjectsQueryMaxResultsDefault = 10;

export const listProjectsQueryStartAtDefault = 0;
export const listProjectsQueryStartAtMin = 0;
export const listProjectsQueryStartAtMax = 1000000;

export const listProjectsQueryParams = zod.object({
  maxResults: zod
    .number()
    .min(1)
    .default(listProjectsQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listProjectsQueryStartAtMin)
    .max(listProjectsQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const listProjectsResponseStartAtMin = 0;

export const listProjectsResponseTotalMin = 0;

export const listProjectsResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listProjectsResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listProjectsResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod.object({
            id: zod.number().describe("The ID of the project in Zephyr."),
            jiraProjectId: zod
              .number()
              .describe("The ID of the project in Jira."),
            key: zod.string(),
            enabled: zod
              .boolean()
              .describe(
                "Indicates whether the project has Zephyr enabled on it.",
              ),
          }),
        )
        .optional(),
    }),
  );

/**
 * Returns a project for the given ID or key.
 * @summary Get project
 */
export const getProjectPathProjectIdOrKeyRegExp = /([0-9]+)|([A-Z][A-Z_0-9]+)/;

export const getProjectParams = zod.object({
  projectIdOrKey: zod
    .string()
    .regex(getProjectPathProjectIdOrKeyRegExp)
    .describe("The Zephyr project ID or Jira project key"),
});

export const getProjectResponse = zod.object({
  id: zod.number().describe("The ID of the project in Zephyr."),
  jiraProjectId: zod.number().describe("The ID of the project in Jira."),
  key: zod.string(),
  enabled: zod
    .boolean()
    .describe("Indicates whether the project has Zephyr enabled on it."),
});

/**
 * Returns all folder.
 * @summary Get folders
 */
export const listFoldersQueryMaxResultsDefault = 10;

export const listFoldersQueryStartAtDefault = 0;
export const listFoldersQueryStartAtMin = 0;
export const listFoldersQueryStartAtMax = 1000000;

export const listFoldersQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;

export const listFoldersQueryParams = zod.object({
  maxResults: zod
    .number()
    .min(1)
    .default(listFoldersQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listFoldersQueryStartAtMin)
    .max(listFoldersQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
  projectKey: zod
    .string()
    .regex(listFoldersQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  folderType: zod
    .string()
    .optional()
    .describe(
      'Folder type filter. Either `"TEST_CASE"`, `"TEST_PLAN"` or `"TEST_CYCLE"`',
    ),
});

export const listFoldersResponseStartAtMin = 0;

export const listFoldersResponseTotalMin = 0;

export const listFoldersResponseValuesItemNameRegExp = /^(?!\\s*$).+/;
export const listFoldersResponseValuesItemIndexMin = 0;

export const listFoldersResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listFoldersResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listFoldersResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod.object({
            id: zod.number().min(1),
            parentId: zod.number().min(1),
            name: zod.string().regex(listFoldersResponseValuesItemNameRegExp),
            index: zod.number().min(listFoldersResponseValuesItemIndexMin),
            folderType: zod
              .string()
              .describe(
                'Valid values: `"TEST_CASE"`, `"TEST_PLAN"`, `"TEST_CYCLE"`',
              ),
            project: zod
              .object({
                id: zod.number().min(1),
              })
              .describe("The ID of the resource")
              .and(
                zod.object({
                  self: zod
                    .string()
                    .url()
                    .optional()
                    .describe(
                      "The REST API endpoint to get more resource details.",
                    ),
                }),
              )
              .optional()
              .describe("ID and link relative to Zephyr project."),
          }),
        )
        .optional(),
    }),
  );

/**
 * Creates a folder.
 * @summary Create folder
 */

export const createFolderBodyNameMax = 255;

export const createFolderBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;

export const createFolderBody = zod.object({
  parentId: zod
    .number()
    .min(1)
    .optional()
    .describe(
      "Folder ID of the parent folder. Must be `null` for root folders.",
    ),
  name: zod
    .string()
    .min(1)
    .max(createFolderBodyNameMax)
    .describe("Folder name."),
  projectKey: zod
    .string()
    .regex(createFolderBodyProjectKeyRegExp)
    .describe("Jira project key."),
  folderType: zod
    .string()
    .describe('Valid values: `"TEST_CASE"`, `"TEST_PLAN"`, `"TEST_CYCLE"`'),
});

/**
 * Returns a folder for the given ID.
 * @summary Get folder
 */

export const getFolderParams = zod.object({
  folderId: zod.number().min(1).describe("Folder ID"),
});

export const getFolderResponseNameRegExp = /^(?!\\s*$).+/;
export const getFolderResponseIndexMin = 0;

export const getFolderResponse = zod.object({
  id: zod.number().min(1),
  parentId: zod.number().min(1),
  name: zod.string().regex(getFolderResponseNameRegExp),
  index: zod.number().min(getFolderResponseIndexMin),
  folderType: zod
    .string()
    .describe('Valid values: `"TEST_CASE"`, `"TEST_PLAN"`, `"TEST_CYCLE"`'),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .optional()
    .describe("ID and link relative to Zephyr project."),
});

/**
 * Returns all priorities.
 * @summary Get priorities
 */
export const listPrioritiesQueryMaxResultsDefault = 10;

export const listPrioritiesQueryStartAtDefault = 0;
export const listPrioritiesQueryStartAtMin = 0;
export const listPrioritiesQueryStartAtMax = 1000000;

export const listPrioritiesQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;

export const listPrioritiesQueryParams = zod.object({
  maxResults: zod
    .number()
    .min(1)
    .default(listPrioritiesQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listPrioritiesQueryStartAtMin)
    .max(listPrioritiesQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
  projectKey: zod
    .string()
    .regex(listPrioritiesQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
});

export const listPrioritiesResponseStartAtMin = 0;

export const listPrioritiesResponseTotalMin = 0;

export const listPrioritiesResponseValuesItemNameRegExp = /^(?!\\s*$).+/;
export const listPrioritiesResponseValuesItemIndexMin = 0;

export const listPrioritiesResponseValuesItemColorRegExp =
  /#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/;
export const listPrioritiesResponseValuesItemDefaultDefault = false;

export const listPrioritiesResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listPrioritiesResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listPrioritiesResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod
            .object({
              id: zod.number().min(1),
              project: zod
                .object({
                  id: zod.number().min(1),
                })
                .describe("The ID of the resource")
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The REST API endpoint to get more resource details.",
                      ),
                  }),
                )
                .describe("ID and link relative to Zephyr project."),
              name: zod
                .string()
                .regex(listPrioritiesResponseValuesItemNameRegExp),
              description: zod
                .string()
                .nullish()
                .describe("Description outlining the scope."),
              index: zod.number().min(listPrioritiesResponseValuesItemIndexMin),
            })
            .and(
              zod.object({
                color: zod
                  .string()
                  .regex(listPrioritiesResponseValuesItemColorRegExp)
                  .optional()
                  .describe("A color in hexadecimal format"),
                default: zod.boolean().optional(),
              }),
            ),
        )
        .optional(),
    }),
  );

/**
 * Creates a priority.
 * @summary Create a priority
 */
export const createPriorityBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createPriorityBodyNameMax = 255;

export const createPriorityBodyDescriptionMax = 255;

export const createPriorityBodyColorRegExp = /#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/;

export const createPriorityBody = zod.object({
  projectKey: zod
    .string()
    .regex(createPriorityBodyProjectKeyRegExp)
    .describe("Jira project key."),
  name: zod
    .string()
    .min(1)
    .max(createPriorityBodyNameMax)
    .describe("The priority name."),
  description: zod
    .string()
    .min(1)
    .max(createPriorityBodyDescriptionMax)
    .optional()
    .describe("The priority description."),
  color: zod
    .string()
    .regex(createPriorityBodyColorRegExp)
    .optional()
    .describe("A color in hexadecimal format"),
});

/**
 * Returns a priority for the given ID.
 * @summary Get priority
 */

export const getPriorityParams = zod.object({
  priorityId: zod.number().min(1),
});

export const getPriorityResponseNameRegExp = /^(?!\\s*$).+/;
export const getPriorityResponseIndexMin = 0;

export const getPriorityResponseColorRegExp =
  /#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/;
export const getPriorityResponseDefaultDefault = false;

export const getPriorityResponse = zod
  .object({
    id: zod.number().min(1),
    project: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .describe("ID and link relative to Zephyr project."),
    name: zod.string().regex(getPriorityResponseNameRegExp),
    description: zod
      .string()
      .nullish()
      .describe("Description outlining the scope."),
    index: zod.number().min(getPriorityResponseIndexMin),
  })
  .and(
    zod.object({
      color: zod
        .string()
        .regex(getPriorityResponseColorRegExp)
        .optional()
        .describe("A color in hexadecimal format"),
      default: zod.boolean().optional(),
    }),
  );

/**
 * Update an existing priority.  Please take into account that for each non-specified field the value will be cleared.

 * @summary Update priority
 */

export const updatePriorityParams = zod.object({
  priorityId: zod.number().min(1),
});

export const updatePriorityBodyNameMax = 255;

export const updatePriorityBodyDescriptionMax = 255;

export const updatePriorityBodyIndexMin = 0;

export const updatePriorityBodyColorRegExp = /#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/;

export const updatePriorityBody = zod.object({
  id: zod.number().min(1),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  name: zod
    .string()
    .min(1)
    .max(updatePriorityBodyNameMax)
    .describe("The priority name."),
  description: zod
    .string()
    .min(1)
    .max(updatePriorityBodyDescriptionMax)
    .optional()
    .describe("The priority description."),
  index: zod.number().min(updatePriorityBodyIndexMin),
  default: zod.boolean(),
  color: zod
    .string()
    .regex(updatePriorityBodyColorRegExp)
    .optional()
    .describe("A color in hexadecimal format"),
});

/**
 * Returns all statuses.
 * @summary Get statuses
 */
export const listStatusesQueryMaxResultsDefault = 10;

export const listStatusesQueryStartAtDefault = 0;
export const listStatusesQueryStartAtMin = 0;
export const listStatusesQueryStartAtMax = 1000000;

export const listStatusesQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;

export const listStatusesQueryParams = zod.object({
  maxResults: zod
    .number()
    .min(1)
    .default(listStatusesQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listStatusesQueryStartAtMin)
    .max(listStatusesQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
  projectKey: zod
    .string()
    .regex(listStatusesQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  statusType: zod
    .enum(["TEST_CASE", "TEST_PLAN", "TEST_CYCLE", "TEST_EXECUTION"])
    .optional()
    .describe("Determines which type of entity the status belongs to."),
});

export const listStatusesResponseStartAtMin = 0;

export const listStatusesResponseTotalMin = 0;

export const listStatusesResponseValuesItemNameRegExp = /^(?!\\s*$).+/;
export const listStatusesResponseValuesItemIndexMin = 0;

export const listStatusesResponseValuesItemArchivedDefault = false;
export const listStatusesResponseValuesItemDefaultDefault = false;

export const listStatusesResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listStatusesResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listStatusesResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod
            .object({
              id: zod.number().min(1),
              project: zod
                .object({
                  id: zod.number().min(1),
                })
                .describe("The ID of the resource")
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The REST API endpoint to get more resource details.",
                      ),
                  }),
                )
                .describe("ID and link relative to Zephyr project."),
              name: zod
                .string()
                .regex(listStatusesResponseValuesItemNameRegExp),
              description: zod
                .string()
                .nullish()
                .describe("Description outlining the scope."),
              index: zod.number().min(listStatusesResponseValuesItemIndexMin),
            })
            .and(
              zod.object({
                color: zod.string().optional(),
                archived: zod
                  .boolean()
                  .optional()
                  .describe(
                    "Determines whether the status is archived. Archived statuses are read-only and cannot be assigned to entities.",
                  ),
                default: zod.boolean().optional(),
              }),
            ),
        )
        .optional(),
    }),
  );

/**
 * Creates a status.
 * @summary Create a status
 */
export const createStatusBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createStatusBodyNameMax = 255;

export const createStatusBodyDescriptionMax = 255;

export const createStatusBodyColorRegExp = /#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/;

export const createStatusBody = zod.object({
  projectKey: zod
    .string()
    .regex(createStatusBodyProjectKeyRegExp)
    .describe("Jira project key."),
  name: zod
    .string()
    .min(1)
    .max(createStatusBodyNameMax)
    .describe("The status name."),
  type: zod
    .enum(["TEST_CASE", "TEST_PLAN", "TEST_CYCLE", "TEST_EXECUTION"])
    .describe("Determines which type of entity the status belongs to."),
  description: zod
    .string()
    .min(1)
    .max(createStatusBodyDescriptionMax)
    .optional()
    .describe("The status description."),
  color: zod
    .string()
    .regex(createStatusBodyColorRegExp)
    .optional()
    .describe("A color in hexadecimal format"),
});

/**
 * Returns a status for the given ID.
 * @summary Get status
 */

export const getStatusParams = zod.object({
  statusId: zod.number().min(1),
});

export const getStatusResponseNameRegExp = /^(?!\\s*$).+/;
export const getStatusResponseIndexMin = 0;

export const getStatusResponseArchivedDefault = false;
export const getStatusResponseDefaultDefault = false;

export const getStatusResponse = zod
  .object({
    id: zod.number().min(1),
    project: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .describe("ID and link relative to Zephyr project."),
    name: zod.string().regex(getStatusResponseNameRegExp),
    description: zod
      .string()
      .nullish()
      .describe("Description outlining the scope."),
    index: zod.number().min(getStatusResponseIndexMin),
  })
  .and(
    zod.object({
      color: zod.string().optional(),
      archived: zod
        .boolean()
        .optional()
        .describe(
          "Determines whether the status is archived. Archived statuses are read-only and cannot be assigned to entities.",
        ),
      default: zod.boolean().optional(),
    }),
  );

/**
 * Update an existing status.  Please take into account that for each non-specified field the value will be cleared.

 * @summary Update status
 */

export const updateStatusParams = zod.object({
  statusId: zod.number().min(1),
});

export const updateStatusBodyNameMax = 255;

export const updateStatusBodyDescriptionMax = 255;

export const updateStatusBodyIndexMin = 0;

export const updateStatusBodyColorRegExp = /#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/;

export const updateStatusBody = zod.object({
  id: zod.number().min(1),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  name: zod
    .string()
    .min(1)
    .max(updateStatusBodyNameMax)
    .describe("The status name."),
  description: zod
    .string()
    .min(1)
    .max(updateStatusBodyDescriptionMax)
    .optional()
    .describe("The status description."),
  index: zod.number().min(updateStatusBodyIndexMin),
  archived: zod.boolean(),
  default: zod.boolean(),
  color: zod
    .string()
    .regex(updateStatusBodyColorRegExp)
    .optional()
    .describe("A color in hexadecimal format"),
});

/**
 * Returns all environments.
 * @summary Get environments
 */
export const listEnvironmentsQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const listEnvironmentsQueryMaxResultsDefault = 10;

export const listEnvironmentsQueryStartAtDefault = 0;
export const listEnvironmentsQueryStartAtMin = 0;
export const listEnvironmentsQueryStartAtMax = 1000000;

export const listEnvironmentsQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(listEnvironmentsQueryProjectKeyRegExp)
    .optional()
    .describe("Jira project key filter"),
  maxResults: zod
    .number()
    .min(1)
    .default(listEnvironmentsQueryMaxResultsDefault)
    .describe(
      "Specifies the maximum number of results to return in a single call. The default value is 10, and the maximum value that can be requested is 1000.\n\nNote that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints. If this happens, the result set may be truncated. Always check the maxResults value in the response to confirm how many results were actually returned.\n",
    ),
  startAt: zod
    .number()
    .min(listEnvironmentsQueryStartAtMin)
    .max(listEnvironmentsQueryStartAtMax)
    .optional()
    .describe(
      "Zero-indexed starting position. Should be a multiple of maxResults.",
    ),
});

export const listEnvironmentsResponseStartAtMin = 0;

export const listEnvironmentsResponseTotalMin = 0;

export const listEnvironmentsResponseValuesItemNameRegExp = /^(?!\\s*$).+/;
export const listEnvironmentsResponseValuesItemIndexMin = 0;

export const listEnvironmentsResponseValuesItemArchivedDefault = false;

export const listEnvironmentsResponse = zod
  .object({
    next: zod
      .string()
      .url()
      .nullish()
      .describe(
        "URL to the next page of results, or null if there are no more results.",
      ),
    startAt: zod
      .number()
      .min(listEnvironmentsResponseStartAtMin)
      .describe(
        "Indicates the index of the first item returned in the page of results.",
      ),
    maxResults: zod
      .number()
      .min(1)
      .describe(
        "Indicates the maximum number of results in this response. Note that the server may enforce a lower limit than requested, depending on resource availability or other internal constraints.",
      ),
    total: zod
      .number()
      .min(listEnvironmentsResponseTotalMin)
      .optional()
      .describe(
        "Indicates the total number of items available across all pages.",
      ),
    isLast: zod
      .boolean()
      .optional()
      .describe("Indicates if this is the last page of results."),
  })
  .and(
    zod.object({
      values: zod
        .array(
          zod
            .object({
              id: zod.number().min(1),
              project: zod
                .object({
                  id: zod.number().min(1),
                })
                .describe("The ID of the resource")
                .and(
                  zod.object({
                    self: zod
                      .string()
                      .url()
                      .optional()
                      .describe(
                        "The REST API endpoint to get more resource details.",
                      ),
                  }),
                )
                .describe("ID and link relative to Zephyr project."),
              name: zod
                .string()
                .regex(listEnvironmentsResponseValuesItemNameRegExp),
              description: zod
                .string()
                .nullish()
                .describe("Description outlining the scope."),
              index: zod
                .number()
                .min(listEnvironmentsResponseValuesItemIndexMin),
            })
            .and(
              zod.object({
                archived: zod.boolean().optional(),
              }),
            ),
        )
        .optional(),
    }),
  );

/**
 * Creates an environment.
 * @summary Create an environment
 */
export const createEnvironmentBodyProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createEnvironmentBodyNameMax = 255;

export const createEnvironmentBodyDescriptionMax = 255;

export const createEnvironmentBody = zod.object({
  projectKey: zod
    .string()
    .regex(createEnvironmentBodyProjectKeyRegExp)
    .describe("Jira project key."),
  name: zod
    .string()
    .min(1)
    .max(createEnvironmentBodyNameMax)
    .describe("The environment name."),
  description: zod
    .string()
    .min(1)
    .max(createEnvironmentBodyDescriptionMax)
    .optional()
    .describe("The environment description."),
});

/**
 * Returns an environment for the given ID.
 * @summary Get environment
 */

export const getEnvironmentParams = zod.object({
  environmentId: zod.number().min(1),
});

export const getEnvironmentResponseNameRegExp = /^(?!\\s*$).+/;
export const getEnvironmentResponseIndexMin = 0;

export const getEnvironmentResponseArchivedDefault = false;

export const getEnvironmentResponse = zod
  .object({
    id: zod.number().min(1),
    project: zod
      .object({
        id: zod.number().min(1),
      })
      .describe("The ID of the resource")
      .and(
        zod.object({
          self: zod
            .string()
            .url()
            .optional()
            .describe("The REST API endpoint to get more resource details."),
        }),
      )
      .describe("ID and link relative to Zephyr project."),
    name: zod.string().regex(getEnvironmentResponseNameRegExp),
    description: zod
      .string()
      .nullish()
      .describe("Description outlining the scope."),
    index: zod.number().min(getEnvironmentResponseIndexMin),
  })
  .and(
    zod.object({
      archived: zod.boolean().optional(),
    }),
  );

/**
 * Update an existing environment.  Please take into account that for each non-specified field the value will be cleared.

 * @summary Update an environment
 */

export const updateEnvironmentParams = zod.object({
  environmentId: zod.number().min(1),
});

export const updateEnvironmentBodyNameMax = 255;

export const updateEnvironmentBodyDescriptionMax = 255;

export const updateEnvironmentBodyIndexMin = 0;

export const updateEnvironmentBody = zod.object({
  id: zod.number().min(1),
  project: zod
    .object({
      id: zod.number().min(1),
    })
    .describe("The ID of the resource")
    .and(
      zod.object({
        self: zod
          .string()
          .url()
          .optional()
          .describe("The REST API endpoint to get more resource details."),
      }),
    )
    .describe("ID and link relative to Zephyr project."),
  name: zod
    .string()
    .min(1)
    .max(updateEnvironmentBodyNameMax)
    .describe("The environment name."),
  description: zod
    .string()
    .min(1)
    .max(updateEnvironmentBodyDescriptionMax)
    .optional()
    .describe("The environment description."),
  index: zod.number().min(updateEnvironmentBodyIndexMin),
});

/**
 * Deletes a link for the given ID.
 * @summary Delete link
 */

export const deleteLinkParams = zod.object({
  linkId: zod.number().min(1),
});

/**
 * Get test case keys and versions linked to the given Jira issue.
 * @summary Get test cases
 */
export const getIssueLinkTestCasesPathIssueKeyRegExp = /.+-[0-9]+/;

export const getIssueLinkTestCasesParams = zod.object({
  issueKey: zod
    .string()
    .regex(getIssueLinkTestCasesPathIssueKeyRegExp)
    .describe("The key of the Jira issue"),
});

export const getIssueLinkTestCasesResponseItem = zod
  .object({
    key: zod.string().optional(),
    version: zod.number().optional(),
  })
  .and(
    zod.object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    }),
  );
export const getIssueLinkTestCasesResponse = zod.array(
  getIssueLinkTestCasesResponseItem,
);

/**
 * Get test cycle IDs linked to the given Jira issue.
 * @summary Get test cycles
 */
export const getIssueLinkTestCyclesPathIssueKeyRegExp = /.+-[0-9]+/;

export const getIssueLinkTestCyclesParams = zod.object({
  issueKey: zod
    .string()
    .regex(getIssueLinkTestCyclesPathIssueKeyRegExp)
    .describe("The key of the Jira issue"),
});

export const getIssueLinkTestCyclesResponseItem = zod
  .object({
    id: zod.number().min(1),
  })
  .describe("The ID of the resource")
  .and(
    zod.object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    }),
  );
export const getIssueLinkTestCyclesResponse = zod.array(
  getIssueLinkTestCyclesResponseItem,
);

/**
 * Get test plan IDs linked to the given Jira issue.
 * @summary Get test plans
 */
export const getIssueLinkTestPlansPathIssueKeyRegExp = /.+-[0-9]+/;

export const getIssueLinkTestPlansParams = zod.object({
  issueKey: zod
    .string()
    .regex(getIssueLinkTestPlansPathIssueKeyRegExp)
    .describe("The key of the Jira issue"),
});

export const getIssueLinkTestPlansResponseItem = zod
  .object({
    id: zod.number().min(1),
  })
  .describe("The ID of the resource")
  .and(
    zod.object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    }),
  );
export const getIssueLinkTestPlansResponse = zod.array(
  getIssueLinkTestPlansResponseItem,
);

/**
 * Get test execution IDs linked to the given Jira issue.
 * @summary Get test executions
 */
export const getIssueLinkTestExecutionsPathIssueKeyRegExp = /.+-[0-9]+/;

export const getIssueLinkTestExecutionsParams = zod.object({
  issueKey: zod
    .string()
    .regex(getIssueLinkTestExecutionsPathIssueKeyRegExp)
    .describe("The key of the Jira issue"),
});

export const getIssueLinkTestExecutionsResponseItem = zod
  .object({
    id: zod.number().min(1),
  })
  .describe("The ID of the resource")
  .and(
    zod.object({
      self: zod
        .string()
        .url()
        .optional()
        .describe("The REST API endpoint to get more resource details."),
    }),
  );
export const getIssueLinkTestExecutionsResponse = zod.array(
  getIssueLinkTestExecutionsResponseItem,
);

/**
 * Create results using Zephyr's custom results format.
 * @summary Custom format
 */
export const createCustomExecutionsQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createCustomExecutionsQueryAutoCreateTestCasesDefault = false;

export const createCustomExecutionsQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(createCustomExecutionsQueryProjectKeyRegExp)
    .describe("Jira project key filter"),
  autoCreateTestCases: zod
    .boolean()
    .optional()
    .describe("Indicate if test cases should be created if non existent."),
});

export const createCustomExecutionsHeader = zod.object({
  "content-length": zod
    .number()
    .describe(
      "The content-length header indicates the size of the message body, in bytes. https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2",
    ),
});

export const createCustomExecutionsBodyTestCycleNameRegExp = /^(?!\\s*$).+/;

export const createCustomExecutionsBody = zod.object({
  file: zod.instanceof(File),
  testCycle: zod
    .object({
      name: zod
        .string()
        .regex(createCustomExecutionsBodyTestCycleNameRegExp)
        .optional(),
      description: zod
        .string()
        .nullish()
        .describe("Description outlining the scope."),
      jiraProjectVersion: zod
        .number()
        .min(1)
        .optional()
        .describe(
          "Jira Project Version ID. Relates to 'Version' or 'Releases' in Jira projects.",
        ),
      folderId: zod
        .number()
        .min(1)
        .optional()
        .describe("ID of a folder to place the entity within."),
      customFields: zod
        .record(zod.string(), zod.unknown())
        .optional()
        .describe(
          "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
        ),
    })
    .optional()
    .describe(
      "Pass this object as a JSON in your form-data alongside the file. Make sure you set the type of this object as `application/json` otherwise the object will be ignored.",
    ),
});

export const createCustomExecutionsResponseTestCycleKeyRegExp =
  /([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const createCustomExecutionsResponse = zod.object({
  testCycle: zod
    .object({
      id: zod
        .number()
        .min(1)
        .optional()
        .describe("The id of the newly created test cycle."),
      url: zod
        .string()
        .optional()
        .describe("The URL pointing to the newly created test cycle."),
      key: zod
        .string()
        .regex(createCustomExecutionsResponseTestCycleKeyRegExp)
        .optional()
        .describe("The key of the newly created test cycle."),
    })
    .optional(),
});

/**
 * Create results using the Cucumber results format.
 * @summary Cucumber format
 */
export const createCucumberExecutionsQueryProjectKeyRegExp =
  /([A-Z][A-Z_0-9]+)/;
export const createCucumberExecutionsQueryAutoCreateTestCasesDefault = false;

export const createCucumberExecutionsQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(createCucumberExecutionsQueryProjectKeyRegExp)
    .describe("Jira project key filter"),
  autoCreateTestCases: zod
    .boolean()
    .optional()
    .describe("Indicate if test cases should be created if non existent."),
});

export const createCucumberExecutionsHeader = zod.object({
  "content-length": zod
    .number()
    .describe(
      "The content-length header indicates the size of the message body, in bytes. https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2",
    ),
});

export const createCucumberExecutionsBodyTestCycleNameRegExp = /^(?!\\s*$).+/;

export const createCucumberExecutionsBody = zod.object({
  file: zod.instanceof(File),
  testCycle: zod
    .object({
      name: zod
        .string()
        .regex(createCucumberExecutionsBodyTestCycleNameRegExp)
        .optional(),
      description: zod
        .string()
        .nullish()
        .describe("Description outlining the scope."),
      jiraProjectVersion: zod
        .number()
        .min(1)
        .optional()
        .describe(
          "Jira Project Version ID. Relates to 'Version' or 'Releases' in Jira projects.",
        ),
      folderId: zod
        .number()
        .min(1)
        .optional()
        .describe("ID of a folder to place the entity within."),
      customFields: zod
        .record(zod.string(), zod.unknown())
        .optional()
        .describe(
          "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
        ),
    })
    .optional()
    .describe(
      "Pass this object as a JSON in your form-data alongside the file. Make sure you set the type of this object as `application/json` otherwise the object will be ignored.",
    ),
});

export const createCucumberExecutionsResponseTestCycleKeyRegExp =
  /([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const createCucumberExecutionsResponse = zod.object({
  testCycle: zod
    .object({
      id: zod
        .number()
        .min(1)
        .optional()
        .describe("The id of the newly created test cycle."),
      url: zod
        .string()
        .optional()
        .describe("The URL pointing to the newly created test cycle."),
      key: zod
        .string()
        .regex(createCucumberExecutionsResponseTestCycleKeyRegExp)
        .optional()
        .describe("The key of the newly created test cycle."),
    })
    .optional(),
});

/**
 * Create results using the JUnit XML results format. Optionally, you can send a `testCycle` part in your form data to customize the created test cycle.
 * @summary JUnit XML format
 */
export const createJUnitExecutionsQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;
export const createJUnitExecutionsQueryAutoCreateTestCasesDefault = false;

export const createJUnitExecutionsQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(createJUnitExecutionsQueryProjectKeyRegExp)
    .describe("Jira project key filter"),
  autoCreateTestCases: zod
    .boolean()
    .optional()
    .describe("Indicate if test cases should be created if non existent."),
});

export const createJUnitExecutionsHeader = zod.object({
  "content-length": zod
    .number()
    .describe(
      "The content-length header indicates the size of the message body, in bytes. https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2",
    ),
});

export const createJUnitExecutionsBodyTestCycleNameRegExp = /^(?!\\s*$).+/;

export const createJUnitExecutionsBody = zod.object({
  file: zod.instanceof(File),
  testCycle: zod
    .object({
      name: zod
        .string()
        .regex(createJUnitExecutionsBodyTestCycleNameRegExp)
        .optional(),
      description: zod
        .string()
        .nullish()
        .describe("Description outlining the scope."),
      jiraProjectVersion: zod
        .number()
        .min(1)
        .optional()
        .describe(
          "Jira Project Version ID. Relates to 'Version' or 'Releases' in Jira projects.",
        ),
      folderId: zod
        .number()
        .min(1)
        .optional()
        .describe("ID of a folder to place the entity within."),
      customFields: zod
        .record(zod.string(), zod.unknown())
        .optional()
        .describe(
          "Multi-line text fields support HTML and should denote new lines with the \\<br\\> tag.\nDates should be in the format 'yyyy-MM-dd'.\nUsers should have values of Jira User Account IDs.\n",
        ),
    })
    .optional()
    .describe(
      "Pass this object as a JSON in your form-data alongside the file. Make sure you set the type of this object as `application/json` otherwise the object will be ignored.",
    ),
});

export const createJUnitExecutionsResponseTestCycleKeyRegExp =
  /([A-Z][A-Z_0-9]+-R[0-9]+)/;

export const createJUnitExecutionsResponse = zod.object({
  testCycle: zod
    .object({
      id: zod
        .number()
        .min(1)
        .optional()
        .describe("The id of the newly created test cycle."),
      url: zod
        .string()
        .optional()
        .describe("The URL pointing to the newly created test cycle."),
      key: zod
        .string()
        .regex(createJUnitExecutionsResponseTestCycleKeyRegExp)
        .optional()
        .describe("The key of the newly created test cycle."),
    })
    .optional(),
});

/**
 * @summary Retrieve a zip file containing Cucumber Feature Files that matches the query passed as parameter.
 */
export const retrieveBDDTestCasesQueryProjectKeyRegExp = /([A-Z][A-Z_0-9]+)/;

export const retrieveBDDTestCasesQueryParams = zod.object({
  projectKey: zod
    .string()
    .regex(retrieveBDDTestCasesQueryProjectKeyRegExp)
    .describe("Jira project key filter"),
});

export const retrieveBDDTestCasesHeader = zod.object({
  Accept: zod.enum(["application/zip"]),
});
